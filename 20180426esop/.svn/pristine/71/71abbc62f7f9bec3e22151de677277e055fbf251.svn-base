<%@ page contentType="text/html;charset=UTF-8" %>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>产品审批流程</title>
    <%@ include file="../pub/hlj.jsp" %>
    <%@ include file="../pub/base.jsp" %>
</head>
<body>
<!--操作提示窗口-->
<div class="modal fade" id="operationAlertInfo" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="exampleModalLabel">操作提示</h4>
            </div>
            <div class="modal-body">
                <label class="control-label" id="alertLabelInfo">提交操作已成功保存！</label>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
            </div>
        </div>
    </div>
</div>
<!--需求情况-->
<div class="modal fade" id="demandSituationModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" style="width:800px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="a_identity">产品需求情况</h4>
            </div>
            <div class="form-horizontal modal-body">
                <div class="box-body">
                    <html:hidden id="demand_situation_related_id"/>
                    <html:hidden id="create_date"/>
                    <html:hidden id="current_link"/>
                    <html:hidden id="group_id"/>
                    <html:hidden id="region_group_id"/>
                    <html:hidden id="resource_code"/>
                    <div class="form-group">
                        <div class="col-sm-1"></div>
                        <div class="col-sm-10">
                            <textarea rows="10" class="form-control" id="demand_situation_note"
                                      placeholder="产品需求情况内容限制2000字以内！"></textarea>
                        </div>
                        <div class="col-sm-1"></div>
                    </div>
                </div>
                <div class="box-footer" id="xFileDiv1">
                    <label class="btn btn-info pull-left" for="xFile">上传附件</label>
                    <form id="upload-form" method="post" enctype="multipart/form-data">
                        <input type="file" id="xFile" name="file" style="position:absolute;clip:rect(0 0 0 0);">
                    </form>
                </div>

                <div class="box-body">
                    <div class="form-group" id="fileList"></div>
                </div>
            </div>

            <div class="modal-footer">
                <button id="submit1" class="btn btn-info" data-container="body" data-toggle="popover">
                    提交
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
<!--业务方案-->
<div class="modal fade" id="operationalProgramModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" style="width:800px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">产品业务方案</h4>
            </div>
            <div class="form-horizontal modal-body">
                <div class="box-body">
                    <html:hidden id="operational_program_related_id"/>

                    <div class="form-group">
                        <div class="col-sm-1"></div>
                        <div class="col-sm-10">
                            <textarea rows="10" class="form-control" id="operational_program_note"
                                      placeholder="产品业务方案内容限制2000字以内！"></textarea>
                        </div>
                        <div class="col-sm-1"></div>
                    </div>
                </div>
                <div class="box-footer" id="xFileDiv2">
                    <label class="btn btn-info pull-left" for="operational_program_xFile">上传附件</label>
                    <form id="operational_program_upload-form" method="post" enctype="multipart/form-data">
                        <input type="file" id="operational_program_xFile" name="file"
                               style="position:absolute;clip:rect(0 0 0 0);">
                    </form>
                </div>

                <div class="box-body">
                    <div class="form-group" id="operational_program_fileList"></div>
                </div>
            </div>

            <div class="modal-footer">
                <button id="submit2" class="btn btn-info" data-container="body" data-toggle="popover">
                    提交
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
<!--产品业务方案初评结果-->
<div class="modal fade" id="solutionsArgument" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" style="width:800px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">产品业务方案初评结果</h4>
            </div>
            <html:hidden id="solutions_argument_related_id"/>
            <div class="form-horizontal modal-body">
                <table width="100%" border="0" class="tab-infor-1 table-work">
                    <tr>
                        <th>主办部门</th>
                        <td id="main_depart_three"></td>
                        <th>申请人</th>
                        <td id="apply_person_three"></td>
                        <th>申请日期</th>
                        <td id="apply_date_three"></td>
                    </tr>
                    <tr>
                        <th>文件编号</th>
                        <td id="file_no_three"></td>
                        <th>标题</th>
                        <td colspan="3" id="file_title_three"></td>
                    </tr>
                    <tr>
                        <th>产品方案</th>
                        <td colspan="5">
                            <div class="form-group" id="prod_plan_fileList">
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>产品名称</th>
                        <td id="prod_name_three"></td>
                        <th>产品环节</th>
                        <td colspan="3" id="link_id_three"></td>
                    </tr>
                    <tr>
                        <th>结论意见</th>
                        <td id="colusion_opinion_three"></td>
                        <th>评审意见</th>
                        <td colspan="3" id="review_opinion_three"></td>
                    </tr>
                    <tr>
                        <th>审批单</th>
                        <td colspan="5">
                            <div class="form-group" id="review_file_id_three_fileList">
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>备注信息</th>
                        <td colspan="5">
                            <textarea rows="10" class="form-control" id="note_three"
                                      placeholder="产品业务方案初评结果内容限制2000字以内！"></textarea>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="box-footer" id="xFileDiv3">
                                <label class="btn btn-info pull-left" for="solutions_argument_three_xFile">上传附件</label>
                                <form id="solutions_argument_three_upload-form" method="post"
                                      enctype="multipart/form-data">
                                    <input type="file" id="solutions_argument_three_xFile" name="file"
                                           style="position:absolute;clip:rect(0 0 0 0);">
                                </form>
                            </div>
                        </td>
                        <td colspan="5">
                            <div class="box-body">
                                <div class="form-group" id="solutions_argument_three_fileList"></div>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="modal-footer">
                <button id="submit3" class="btn btn-info" data-container="body" data-toggle="popover">
                    提交
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
<!--SI引入情况-->
<div class="modal fade" id="siIntroduced" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" style="width:800px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">SI引入情况</h4>
            </div>
            <html:hidden id="si_introduced_related_id"/>
            <div class="form-horizontal modal-body">
                <table width="100%" border="0" class="tab-infor-1 table-work">
                    <tr>
                        <th>主办部门</th>
                        <td id="main_depart_four"></td>
                        <th>申请人</th>
                        <td id="apply_person_four"></td>
                        <th>申请日期</th>
                        <td id="apply_date_four"></td>
                    </tr>
                    <tr>
                        <th>文件编号</th>
                        <td id="file_no_four"></td>
                        <th>标题</th>
                        <td colspan="3" id="file_title_four"></td>
                    </tr>
                    <tr>
                        <th>SI申请材料</th>
                        <td colspan="5">
                            <div class="form-group" id="si_material_fileList">
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>产品名称</th>
                        <td id="prod_name_four"></td>
                        <th>产品环节</th>
                        <td colspan="3" id="link_id_four"></td>
                    </tr>
                    <tr>
                        <th>结论意见</th>
                        <td id="colusion_opinion_four"></td>
                        <th>评审分数</th>
                        <td colspan="3" id="ass_points_four"></td>
                    </tr>
                    <tr>
                        <th>审批单</th>
                        <td colspan="5">
                            <div class="form-group" id="review_file_id_four_fileList">
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>备注信息</th>
                        <td colspan="5">
                            <textarea rows="10" class="form-control" id="note_four"
                                      placeholder="SI引入情况内容限制2000字以内！"></textarea>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="box-footer" id="xFileDiv4">
                                <label class="btn btn-info pull-left" for="si_introduced_four_xFile">上传附件</label>
                                <form id="si_introduced_four_upload-form" method="post" enctype="multipart/form-data">
                                    <input type="file" id="si_introduced_four_xFile" name="file"
                                           style="position:absolute;clip:rect(0 0 0 0);">
                                </form>
                            </div>
                        </td>
                        <td colspan="5">
                            <div class="box-body">
                                <div class="form-group" id="si_introduced_four_fileList"></div>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="modal-footer">
                <button id="submit4" class="btn btn-info" data-container="body" data-toggle="popover">
                    提交
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
<!--行业终端引入情况-->
<div class="modal fade" id="terminalIntroduced" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" style="width:800px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">行业终端引入情况</h4>
            </div>
            <html:hidden id="terminal_introduced_related_id"/>
            <div class="form-horizontal modal-body">
                <table width="100%" border="0" class="tab-infor-1 table-work">
                    <tr>
                        <th>主办部门</th>
                        <td id="main_depart_five"></td>
                        <th>申请人</th>
                        <td id="apply_person_five"></td>
                        <th>申请日期</th>
                        <td id="apply_date_five"></td>
                    </tr>
                    <tr>
                        <th>文件编号</th>
                        <td id="file_no_five"></td>
                        <th>标题</th>
                        <td colspan="3" id="file_title_five"></td>
                    </tr>
                    <tr>
                        <th>产品名称</th>
                        <td id="prod_name_five"></td>
                        <th>产品环节</th>
                        <td colspan="3" id="link_id_five"></td>
                    </tr>
                    <tr>
                        <th>结论意见</th>
                        <td id="colusion_opinion_five"></td>
                        <th>评审意见</th>
                        <td colspan="3" id="review_opinion_five"></td>
                    </tr>
                    <tr>
                        <th>审批单</th>
                        <td colspan="5">
                            <div class="form-group" id="review_file_id_five_fileList">
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>备注信息</th>
                        <td colspan="5">
                            <textarea rows="10" class="form-control" id="note_five"
                                      placeholder="行业终端引入情况内容限制2000字以内！"></textarea>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="box-footer" id="xFileDiv5">
                                <label class="btn btn-info pull-left" for="terminal_introduced_five_xFile">上传附件</label>
                                <form id="terminal_introduced_five_upload-form" method="post"
                                      enctype="multipart/form-data">
                                    <input type="file" id="terminal_introduced_five_xFile" name="file"
                                           style="position:absolute;clip:rect(0 0 0 0);">
                                </form>
                            </div>
                        </td>
                        <td colspan="5">
                            <div class="box-body">
                                <div class="form-group" id="terminal_introduced_five_fileList"></div>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="modal-footer">
                <button id="submit5" class="btn btn-info" data-container="body" data-toggle="popover">
                    提交
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
<!--产品业务立项结果-->
<div class="modal fade" id="businessProject" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" style="width:800px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">产品业务立项结果</h4>
            </div>
            <html:hidden id="business_project_related_id"/>
            <div class="form-horizontal modal-body">
                <table width="100%" border="0" class="tab-infor-1 table-work">
                    <tr>
                        <th>主办部门</th>
                        <td id="main_depart_six"></td>
                        <th>申请人</th>
                        <td id="apply_person_six"></td>
                        <th>申请日期</th>
                        <td id="apply_date_six"></td>
                    </tr>
                    <tr>
                        <th>文件编号</th>
                        <td id="file_no_six"></td>
                        <th>标题</th>
                        <td colspan="3" id="file_title_six"></td>
                    </tr>
                    <tr>
                        <th>产品名称</th>
                        <td id="prod_name_six"></td>
                        <th>产品环节</th>
                        <td colspan="3" id="link_id_six"></td>
                    </tr>
                    <tr>
                        <th>立项依据</th>
                        <td colspan="5">
                            <div class="form-group" id="project_basis_six_fileList">
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>结论意见</th>
                        <td id="colusion_opinion_six"></td>
                        <th>评审意见</th>
                        <td colspan="3" id="review_opinion_six"></td>
                    </tr>
                    <tr>
                        <th>审批单</th>
                        <td colspan="5">
                            <div class="form-group" id="review_file_id_six_fileList">
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>备注信息</th>
                        <td colspan="5">
                            <textarea rows="10" class="form-control" id="note_six"
                                      placeholder="产品业务立项结果内容限制2000字以内！"></textarea>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="box-footer" id="xFileDiv6">
                                <label class="btn btn-info pull-left" for="business_project_six_xFile">上传附件</label>
                                <form id="business_project_six_upload-form" method="post" enctype="multipart/form-data">
                                    <input type="file" id="business_project_six_xFile" name="file"
                                           style="position:absolute;clip:rect(0 0 0 0);">
                                </form>
                            </div>
                        </td>
                        <td colspan="5">
                            <div class="box-body">
                                <div class="form-group" id="business_project_six_fileList"></div>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="modal-footer">
                <button id="submit6" class="btn btn-info" data-container="body" data-toggle="popover">
                    提交
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
<!--业务建设合同-->
<div class="modal fade" id="constructionContract" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" style="width:1200px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">业务建设合同</h4>
            </div>
            <html:hidden id="construction_contract_related_id"/>
            <div class="form-horizontal modal-body">
                <table width="100%" border="0" class="tab-infor-1 table-work">
                    <tr>
                        <th>承办部门</th>
                        <td id="main_depart_seven"></td>
                        <th>承办人</th>
                        <td id="apply_person_seven"></td>
                        <th>日期</th>
                        <td id="apply_date_seven"></td>
                    </tr>
                    <tr>
                        <th>合同类型</th>
                        <td id="contract_type_seven"></td>
                        <th>合同编号</th>
                        <td id="contract_id_seven"></td>
                        <th>合同名称</th>
                        <td id="contract_name_seven"></td>
                    </tr>
                    <tr>
                        <th>合同总金额</th>
                        <td id="contract_amount_seven"></td>
                        <th>合同履行期限</th>
                        <td id="contract_term_seven"></td>
                        <th>供应商名称</th>
                        <td id="supplier_name_seven"></td>

                    </tr>
                    <tr>
                        <th>法定代表人（负责人）</th>
                        <td id="legal_rep_seven"></td>
                        <th>税务登记号码</th>
                        <td id="tax_num_seven"></td>
                        <th>联系人</th>
                        <td id="contract_person_seven"></td>
                    </tr>
                    <tr>
                        <th>电话</th>
                        <td id="contract_phone_seven"></td>
                        <th>开户行账号</th>
                        <td id="account_no_seven"></td>
                        <th>开户行名称</th>
                        <td id="account_name_seven"></td>
                    </tr>
                    <tr>
                        <th>合同文件</th>
                        <td colspan="5">
                            <div class="form-group" id="contract_rel_seven_fileList">
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>备注信息</th>
                        <td colspan="5">
                            <textarea rows="10" class="form-control" id="note_seven"
                                      placeholder="业务建设合同内容限制2000字以内！"></textarea>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="box-footer" id="xFileDiv7">
                                <label class="btn btn-info pull-left"
                                       for="construction_contract_seven_xFile">上传附件</label>
                                <form id="construction_contract_seven_upload-form" method="post"
                                      enctype="multipart/form-data">
                                    <input type="file" id="construction_contract_seven_xFile" name="file"
                                           style="position:absolute;clip:rect(0 0 0 0);">
                                </form>
                            </div>
                        </td>
                        <td colspan="5">
                            <div class="box-body">
                                <div class="form-group" id="construction_contract_seven_fileList">
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="modal-footer">
                <button id="submit7" class="btn btn-info" data-container="body"
                        data-toggle="popover">
                    提交
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
<!--业务平台建设情况-->
<div class="modal fade" id="platformConstruction" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" style="width:800px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">业务平台建设情况</h4>
            </div>
            <div class="form-horizontal modal-body">
                <html:hidden id="platform_construction_related_id"/>
                <div class="form-group">
                    <div class="col-sm-1"></div>
                    <div class="col-sm-10">
                            <textarea rows="10" class="form-control" id="platform_construction_note"
                                      placeholder="业务平台建设情况备注信息限制2000字以内！"></textarea>
                    </div>
                    <div class="col-sm-1"></div>
                </div>
                <div class="box-footer" id="xFileDiv8">
                    <label class="btn btn-info pull-left" for="platform_construction_xFile">上传附件</label>
                    <form id="platform_construction_upload-form" method="post" enctype="multipart/form-data">
                        <input type="file" id="platform_construction_xFile" name="file"
                               style="position:absolute;clip:rect(0 0 0 0);">
                    </form>
                </div>

                <div class="box-body">
                    <div class="form-group" id="platform_construction_fileList"></div>
                </div>
            </div>

            <div class="modal-footer">
                <button id="submit8" class="btn btn-info" data-container="body"
                        data-toggle="popover">
                    提交
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
<!--运维支撑-->
<div class="modal fade" id="operationMaintenanceSupport" tabindex="-1" role="dialog"
     aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" style="width:800px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">运维支撑</h4>
            </div>
            <div class="form-horizontal modal-body">
                <html:hidden id="operation_maintenance_support_related_id"/>
                <div class="form-group">
                    <div class="col-sm-1"></div>
                    <div class="col-sm-10">
                            <textarea rows="10" class="form-control" id="operation_maintenance_support_note"
                                      placeholder="运维支撑备注信息限制2000字以内！"></textarea>
                    </div>
                    <div class="col-sm-1"></div>
                </div>
                <div class="box-footer" id="xFileDiv9">
                    <label class="btn btn-info pull-left" for="operation_maintenance_support_xFile">上传附件</label>
                    <form id="operation_maintenance_support_upload-form" method="post" enctype="multipart/form-data">
                        <input type="file" id="operation_maintenance_support_xFile" name="file"
                               style="position:absolute;clip:rect(0 0 0 0);">
                    </form>
                </div>

                <div class="box-body">
                    <div class="form-group" id="operation_maintenance_support_fileList"></div>
                </div>
            </div>

            <div class="modal-footer">
                <button id="submit9" class="btn btn-info" data-container="body"
                        data-toggle="popover">
                    提交
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
<!--产品测试-->
<div class="modal fade" id="productTesting" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" style="width:800px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">产品测试</h4>
            </div>
            <div class="form-horizontal modal-body">
                <html:hidden id="product_testing_related_id"/>
                <div class="form-group">
                    <div class="col-sm-1"></div>
                    <div class="col-sm-10">
                            <textarea rows="10" class="form-control" id="product_testing_note"
                                      placeholder="产品测试备注信息限制2000字以内！"></textarea>
                    </div>
                    <div class="col-sm-1"></div>
                </div>
                <div class="box-footer" id="xFileDiv10">
                    <label class="btn btn-info pull-left" for="product_testing_xFile">上传附件</label>
                    <form id="product_testing_upload-form" method="post" enctype="multipart/form-data">
                        <input type="file" id="product_testing_xFile" name="file"
                               style="position:absolute;clip:rect(0 0 0 0);">
                    </form>
                </div>

                <div class="box-body">
                    <div class="form-group" id="product_testing_fileList"></div>
                </div>
            </div>

            <div class="modal-footer">
                <button id="submit10" class="btn btn-info" data-container="body" data-toggle="popover">
                    提交
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
<!--产品验收-->
<div class="modal fade" id="productAcceptance" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" style="width:800px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">产品验收</h4>
            </div>
            <html:hidden id="product_acceptance_related_id"/>
            <div class="form-horizontal modal-body">
                <table width="100%" border="0" class="tab-infor-1 table-work">
                    <tr>
                        <th>主办部门</th>
                        <td id="main_depart_eleven"></td>
                        <th>申请人</th>
                        <td id="apply_person_eleven"></td>
                        <th>申请日期</th>
                        <td id="apply_date_eleven"></td>
                    </tr>
                    <tr>
                        <th>文件编号</th>
                        <td id="file_no_eleven"></td>
                        <th>标题</th>
                        <td colspan="3" id="file_title_eleven"></td>
                    </tr>
                    <tr>
                        <th>产品名称</th>
                        <td id="prod_name_eleven"></td>
                        <th>产品环节</th>
                        <td colspan="3" id="link_id_eleven"></td>
                    </tr>
                    <tr>
                        <th>验收报告</th>
                        <td colspan="5">
                            <div class="form-group" id="accept_report_eleven_fileList">
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>补充说明附件</th>
                        <td colspan="5">
                            <div class="form-group" id="file_added_eleven_fileList">
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>结论意见</th>
                        <td id="colusion_opinion_eleven"></td>
                        <th>评审意见</th>
                        <td colspan="3" id="review_opinion_eleven"></td>
                    </tr>
                    <tr>
                        <th>审批单</th>
                        <td colspan="5">
                            <div class="form-group" id="review_file_id_eleven_fileList">
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>备注信息</th>
                        <td colspan="5">
                            <textarea rows="10" class="form-control" id="note_eleven"
                                      placeholder="产品验收内容限制2000字以内！"></textarea>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="box-footer" id="xFileDiv11">
                                <label class="btn btn-info pull-left" for="product_acceptance_eleven_xFile">上传附件</label>
                                <form id="product_acceptance_eleven_upload-form" method="post"
                                      enctype="multipart/form-data">
                                    <input type="file" id="product_acceptance_eleven_xFile" name="file"
                                           style="position:absolute;clip:rect(0 0 0 0);">
                                </form>
                            </div>
                        </td>
                        <td colspan="5">
                            <div class="box-body">
                                <div class="form-group" id="product_acceptance_eleven_fileList">
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="modal-footer">
                <button id="submit11" class="btn btn-info" data-container="body" data-toggle="popover">
                    提交
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
<!--产品资源匹配-->
<div class="modal fade" id="resourceMatching" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" style="width:800px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">产品资源匹配</h4>
            </div>
            <div class="form-horizontal modal-body">
                <html:hidden id="resource_matching_related_id"/>
                <div class="form-group">
                    <div class="col-sm-1"></div>
                    <div class="col-sm-10">
                            <textarea rows="10" class="form-control" id="resource_matching_note"
                                      placeholder="产品资源匹配备注信息限制2000字以内！"></textarea>
                    </div>
                    <div class="col-sm-1"></div>
                </div>
                <div class="box-footer" id="xFileDiv12">
                    <label class="btn btn-info pull-left" for="resource_matching_xFile">上传附件</label>
                    <form id="resource_matching_upload-form" method="post" enctype="multipart/form-data">
                        <input type="file" id="resource_matching_xFile" name="file"
                               style="position:absolute;clip:rect(0 0 0 0);">
                    </form>
                </div>

                <div class="box-body">
                    <div class="form-group" id="resource_matching_fileList">
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button id="submit12" class="btn btn-info" data-container="body" data-toggle="popover">
                    提交
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
<!--渠道发展-->
<div class="modal fade" id="channelDevelopment" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" style="width:800px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">渠道发展</h4>
            </div>
            <div class="form-horizontal modal-body">
                <html:hidden id="channel_development_related_id"/>
                <div class="form-group">
                    <div class="col-sm-1"></div>
                    <div class="col-sm-10">
                            <textarea rows="10" class="form-control" id="channel_development_note"
                                      placeholder="渠道发展备注信息限制2000字以内！"></textarea>
                    </div>
                    <div class="col-sm-1"></div>
                </div>
                <div class="box-footer" id="xFileDiv13">
                    <label class="btn btn-info pull-left" for="channel_development_xFile">上传附件</label>
                    <form id="channel_development_upload-form" method="post" enctype="multipart/form-data">
                        <input type="file" id="channel_development_xFile" name="file"
                               style="position:absolute;clip:rect(0 0 0 0);">
                    </form>
                </div>

                <div class="box-body">
                    <div class="form-group" id="channel_development_fileList">
                        ${fileList}
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button id="submit13" class="btn btn-info" data-container="body" data-toggle="popover">
                    提交
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
<!--产品上线发文-->
<div class="modal fade" id="onlineIssued" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" style="width:800px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">产品上线发文</h4>
            </div>
            <div class="form-horizontal modal-body">
                <html:hidden id="online_issued_related_id"/>
                <div class="form-group">
                    <div class="col-sm-1"></div>
                    <div class="col-sm-10">
                            <textarea rows="10" class="form-control" id="online_issued_note"
                                      placeholder="产品上线发文备注信息限制2000字以内！"></textarea>
                    </div>
                    <div class="col-sm-1"></div>
                </div>
                <div class="box-footer" id="xFileDiv14">
                    <label class="btn btn-info pull-left" for="online_issued_xFile">上传附件</label>
                    <form id="online_issued_upload-form" method="post" enctype="multipart/form-data">
                        <input type="file" id="online_issued_xFile" name="file"
                               style="position:absolute;clip:rect(0 0 0 0);">
                    </form>
                </div>

                <div class="box-body">
                    <div class="form-group" id="online_issued_fileList">
                        ${fileList}
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button id="submit14" class="btn btn-info" data-container="body" data-toggle="popover">
                    提交
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
<!--工作日志文档-->
<div class="modal fade" id="logDocument" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" style="width:800px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">工作日志文档</h4>
            </div>
            <div class="form-horizontal modal-body">
                <html:hidden id="log_document_related_id"/>
                <table width="100%" border="0" class="tab-infor-1 table-work">
                    <tr>
                        <th>产品收入</th>
                        <td colspan="5">
                            <div class="form-group" id="colusion_opinion_fifteen">
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>备注</th>
                        <td colspan="5">
                            <textarea rows="10" class="form-control" id="log_document_note"
                                      placeholder="工作日志文档备注信息限制2000字以内！"></textarea>
                        </td>
                    </tr>
                </table>
                <div class="box-footer" id="xFileDiv15">
                    <label class="btn btn-info pull-left" for="log_document_xFile">上传附件</label>
                    <form id="log_document_upload-form" method="post" enctype="multipart/form-data">
                        <input type="file" id="log_document_xFile" name="file"
                               style="position:absolute;clip:rect(0 0 0 0);">
                    </form>
                </div>

                <div class="box-body">
                    <div class="form-group" id="log_document_fileList">
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button id="submit15" class="btn btn-info" data-container="body" data-toggle="popover">
                    提交
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
<!--工作量核定结果-->
<div class="modal fade" id="workApproved" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" style="width:800px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">工作量核定结果</h4>
            </div>
            <html:hidden id="work_approved_related_id"/>
            <div class="form-horizontal modal-body">
                <table width="100%" border="0" class="tab-infor-1 table-work">
                    <tr>
                        <th>主办部门</th>
                        <td id="main_depart_sixteen"></td>
                        <th>申请人</th>
                        <td id="apply_person_sixteen"></td>
                        <th>申请日期</th>
                        <td id="apply_date_sixteen"></td>
                    </tr>
                    <tr>
                        <th>文件编号</th>
                        <td id="file_no_sixteen"></td>
                        <th>标题</th>
                        <td colspan="3" id="file_title_sixteen"></td>
                    </tr>
                    <tr>
                        <th>工作日志及工作量明细表</th>
                        <td colspan="5">
                            <div class="form-group" id="work_load_sixteen_fileList">
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>产品名称</th>
                        <td id="prod_name_sixteen"></td>
                        <th>产品环节</th>
                        <td colspan="3" id="link_id_sixteen"></td>
                    </tr>
                    <tr>
                        <th>工作量核定结果</th>
                        <td colspan="5">
                            <textarea rows="4" class="form-control" id="approved_results_sixteen"
                            ></textarea>
                        </td>
                    </tr>
                    <tr>
                        <th>审批单</th>
                        <td colspan="5">
                            <div class="form-group" id="review_file_id_sixteen_fileList">
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>备注信息</th>
                        <td colspan="5">
                            <textarea rows="10" class="form-control" id="note_sixteen"
                                      placeholder="工作量核定结果内容限制2000字以内！"></textarea>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="box-footer" id="xFileDiv16">
                                <label class="btn btn-info pull-left" for="work_approved_sixteen_xFile">上传附件</label>
                                <form id="work_approved_sixteen_upload-form" method="post"
                                      enctype="multipart/form-data">
                                    <input type="file" id="work_approved_sixteen_xFile" name="file"
                                           style="position:absolute;clip:rect(0 0 0 0);">
                                </form>
                            </div>
                        </td>
                        <td colspan="5">
                            <div class="box-body">
                                <div class="form-group" id="work_approved_sixteen_fileList">
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="modal-footer">
                <button id="submit16" class="btn btn-info" data-container="body" data-toggle="popover">
                    提交
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
<!--维护结算单-->
<div class="modal fade" id="maintenanceSettlement" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" style="width:1200px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">维护结算单</h4>
            </div>
            <html:hidden id="maintenance_settlement_related_id"/>
            <div class="form-horizontal modal-body">
                <table width="100%" border="0" class="tab-infor-1 table-work">
                    <tr>
                        <th>框架协议名称</th>
                        <td id="frame_name_seventeen"></td>
                        <th>框架签订日期</th>
                        <td id="frame_date_seventeen"></td>
                        <th>上线金额</th>
                        <td id="upper_amount_seventeen"></td>
                    </tr>
                    <tr>
                        <th>已签订金额</th>
                        <td id="sign_amount_seventeen"></td>
                        <th>本次金额</th>
                        <td id="current_amount_seventeen"></td>
                        <th>采购人姓名</th>
                        <td id="purchase_name_seventeen"></td>
                    </tr>
                    <tr>
                        <th>合同类型</th>
                        <td id="contract_type_seventeen"></td>
                        <th>框架协议履行期限</th>
                        <td id="fram_contract_term_seventeen"></td>
                        <th>供应商名称</th>
                        <td id="supplier_name_seventeen"></td>
                    </tr>
                    <tr>
                        <th>法定代表人（负责人）</th>
                        <td id="legal_rep_seventeen"></td>
                        <th>税务登记号码</th>
                        <td id="tax_num_seventeen"></td>
                        <th>联系人</th>
                        <td id="contract_person_seventeen"></td>
                    </tr>
                    <tr>
                        <th>电话</th>
                        <td id="contract_phone_seventeen"></td>
                        <th>开户行账号</th>
                        <td id="account_no_seventeen"></td>
                        <th>开户行名称</th>
                        <td id="account_name_seventeen"></td>
                    </tr>
                    <tr>
                        <th>起草人</th>
                        <td id="draft_person_seventeen"></td>
                        <th>起草部门</th>
                        <td id="draft_part_seventeen"></td>
                        <th>结算单名称</th>
                        <td id="settle_name_seventeen"></td>
                    </tr>
                    <tr>
                        <th>结算单签订日期</th>
                        <td id="settle_date_seventeen"></td>
                        <th>结算周期</th>
                        <td colspan="3" id="settle_cycle_seventeen"></td>
                    </tr>
                    <tr>
                        <th>合同文件</th>
                        <td colspan="5">
                            <div class="form-group" id="contract_rel_seventeen_fileList">
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>备注信息</th>
                        <td colspan="5">
                            <textarea rows="10" class="form-control" id="note_seventeen"
                                      placeholder="维护结算单内容限制2000字以内！"></textarea>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="box-footer" id="xFileDiv17">
                                <label class="btn btn-info pull-left"
                                       for="maintenance_settlement_seventeen_xFile">上传附件</label>
                                <form id="maintenance_settlement_seventeen_upload-form" method="post"
                                      enctype="multipart/form-data">
                                    <input type="file" id="maintenance_settlement_seventeen_xFile" name="file"
                                           style="position:absolute;clip:rect(0 0 0 0);">
                                </form>
                            </div>
                        </td>
                        <td colspan="5">
                            <div class="box-body">
                                <div class="form-group" id="maintenance_settlement_seventeen_fileList">
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="modal-footer">
                <button id="submit17" class="btn btn-info" data-container="body"
                        data-toggle="popover">
                    提交
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
<!--订单-->
<div class="modal fade" id="orderProduct" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" style="width:1200px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">订单</h4>
            </div>
            <html:hidden id="order_product_related_id"/>
            <div class="form-horizontal modal-body">
                <table width="100%" border="0" class="tab-infor-1 table-work">
                    <tr>
                        <th>框架协议编号</th>
                        <td id="frame_no_eighteen"></td>
                        <th>框架协议名称</th>
                        <td id="frame_name_eighteen"></td>
                        <th>框架签订日期</th>
                        <td id="frame_date_eighteen"></td>
                    </tr>
                    <tr>
                        <th>上线金额</th>
                        <td id="upper_amount_eighteen"></td>
                        <th>已签订金额</th>
                        <td id="sign_amount_eighteen"></td>
                        <th>本次金额</th>
                        <td id="current_amount_eighteen"></td>
                    </tr>
                    <tr>
                        <th>采购人姓名</th>
                        <td id="purchase_name_eighteen"></td>
                        <th>合同类型</th>
                        <td id="contract_type_eighteen"></td>
                        <th>框架协议履行期限</th>
                        <td id="fram_contract_term_eighteen"></td>
                    </tr>
                    <tr>
                        <th>供应商名称</th>
                        <td id="supplier_name_eighteen"></td>
                        <th>法定代表人（负责人）</th>
                        <td id="legal_rep_eighteen"></td>
                        <th>税务登记号码</th>
                        <td id="tax_num_eighteen"></td>
                    </tr>
                    <tr>
                        <th>联系人</th>
                        <td id="contract_person_eighteen"></td>
                        <th>电话</th>
                        <td id="contract_phone_eighteen"></td>
                        <th>开户行账号</th>
                        <td id="account_no_eighteen"></td>
                    </tr>
                    <tr>
                        <th>开户行名称</th>
                        <td id="account_name_eighteen"></td>
                        <th>起草人</th>
                        <td id="draft_person_eighteen"></td>
                        <th>起草部门</th>
                        <td id="draft_part_eighteen"></td>
                    </tr>
                    <tr>
                        <th>订单签订日期</th>
                        <td id="sign_date_eighteen"></td>
                        <th>交付履行期限</th>
                        <td colspan="3" id="commit_term_eighteen"></td>
                    </tr>
                    <tr>
                        <th>合同文件</th>
                        <td colspan="5">
                            <div class="form-group" id="contract_rel_eighteen_fileList">
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>备注信息</th>
                        <td colspan="5">
                            <textarea rows="10" class="form-control" id="note_eighteen"
                                      placeholder="订单内容限制2000字以内！"></textarea>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="box-footer" id="xFileDiv18">
                                <label class="btn btn-info pull-left" for="order_product_eighteen_xFile">上传附件</label>
                                <form id="order_product_eighteen_upload-form" method="post"
                                      enctype="multipart/form-data">
                                    <input type="file" id="order_product_eighteen_xFile" name="file"
                                           style="position:absolute;clip:rect(0 0 0 0);">
                                </form>
                            </div>
                        </td>
                        <td colspan="5">
                            <div class="box-body">
                                <div class="form-group" id="order_product_eighteen_fileList">
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="modal-footer">
                <button id="submit18" class="btn btn-info" data-container="body" data-toggle="popover">
                    提交
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
<!--支撑方技术服务考核结果-->
<div class="modal fade" id="serviceAssessment" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" style="width:800px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">支撑方技术服务考核结果</h4>
            </div>
            <html:hidden id="service_assessment_related_id"/>
            <div class="form-horizontal modal-body">
                <table width="100%" border="0" class="tab-infor-1 table-work">
                    <tr>
                        <th>主办部门</th>
                        <td id="main_depart_nineteen"></td>
                        <th>申请人</th>
                        <td id="apply_person_nineteen"></td>
                        <th>申请日期</th>
                        <td id="apply_date_nineteen"></td>
                    </tr>
                    <tr>
                        <th>文件编号</th>
                        <td id="file_no_nineteen"></td>
                        <th>标题</th>
                        <td colspan="3" id="file_title_nineteen"></td>
                    </tr>
                    <tr>
                        <th>工作日志</th>
                        <td colspan="5">
                            <div class="form-group" id="work_log_nineteen_fileList">
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>产品名称</th>
                        <td id="prod_name_nineteen"></td>
                        <th>产品环节</th>
                        <td colspan="3" id="link_id_nineteen"></td>
                    </tr>
                    <tr>
                        <th>结论意见</th>
                        <td id="colusion_opinion_nineteen"></td>
                        <th>考核分数</th>
                        <td colspan="3" id="ass_points_nineteen"></td>
                    </tr>
                    <tr>
                        <th>审批单</th>
                        <td colspan="5">
                            <div class="form-group" id="review_file_id_nineteen_fileList">
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>备注信息</th>
                        <td colspan="5">
                            <textarea rows="10" class="form-control" id="note_nineteen"
                                      placeholder="支撑方技术服务考核结果内容限制2000字以内！"></textarea>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="box-footer" id="xFileDiv19">
                                <label class="btn btn-info pull-left"
                                       for="service_assessment_nineteen_xFile">上传附件</label>
                                <form id="service_assessment_nineteen_upload-form" method="post"
                                      enctype="multipart/form-data">
                                    <input type="file" id="service_assessment_nineteen_xFile" name="file"
                                           style="position:absolute;clip:rect(0 0 0 0);">
                                </form>
                            </div>
                        </td>
                        <td colspan="5">
                            <div class="box-body">
                                <div class="form-group" id="service_assessment_nineteen_fileList">
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="modal-footer">
                <button id="submit19" class="btn btn-info" data-container="body" data-toggle="popover">
                    提交
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
<!--投诉信息-->
<div class="modal fade" id="complaintInformation" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" style="width:900px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">投诉信息</h4>
            </div>
            <div class="form-horizontal modal-body">
                <div class="box-body">
                    <table class="table table-bordered" id="complaint_table">
                        <tr>
                            <th style="width: 10px">#</th>
                            <th style="width: 10%">投诉单号</th>
                            <th style="width: 10%">投诉电话</th>
                            <th style="width: 20%">集团成员类型</th>
                            <th style="width: 20%">组织名称</th>
                            <th style="width: 20%">投诉时间</th>
                            <th style="width: 20%">投诉内容</th>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
<!--投诉明细信息-->
<div class="modal fade" id="complaintDetailsInformation" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">投诉明细信息</h4>
            </div>
            <div class="modal-body">
                <textarea rows="10" class="form-control" id="note_complaint"></textarea>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
            </div>
        </div>
    </div>
</div>
<!--框架合同签订-->
<div class="modal fade" id="frameworkContract" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" style="width:1200px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">框架合同签订</h4>
            </div>
            <html:hidden id="framework_contract_related_id"/>
            <div class="form-horizontal modal-body">
                <table width="100%" border="0" class="tab-infor-1 table-work">
                    <tr>
                        <th>承办部门</th>
                        <td id="main_depart_twentyOne"></td>
                        <th>承办人</th>
                        <td id="apply_person_twentyOne"></td>
                        <th>日期</th>
                        <td id="apply_date_twentyOne"></td>
                    </tr>
                    <tr>
                        <th>合同类型</th>
                        <td id="contract_type_twentyOne"></td>
                        <th>合同编号</th>
                        <td id="contract_id_twentyOne"></td>
                        <th>合同名称</th>
                        <td id="contract_name_twentyOne"></td>
                    </tr>
                    <tr>
                        <th>合同总金额</th>
                        <td id="contract_amount_twentyOne"></td>
                        <th>合同履行期限</th>
                        <td id="contract_term_twentyOne"></td>
                        <th>供应商名称</th>
                        <td id="supplier_name_twentyOne"></td>

                    </tr>
                    <tr>
                        <th>法定代表人（负责人）</th>
                        <td id="legal_rep_twentyOne"></td>
                        <th>税务登记号码</th>
                        <td id="tax_num_twentyOne"></td>
                        <th>联系人</th>
                        <td id="contract_person_twentyOne"></td>
                    </tr>
                    <tr>
                        <th>电话</th>
                        <td id="contract_phone_twentyOne"></td>
                        <th>开户行账号</th>
                        <td id="account_no_twentyOne"></td>
                        <th>开户行名称</th>
                        <td id="account_name_twentyOne"></td>
                    </tr>
                    <tr>
                        <th>合同文件</th>
                        <td colspan="5">
                            <div class="form-group" id="contract_rel_twentyOne_fileList">
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>结算周期</th>
                        <td>
                            <select id="cons_situation_twentyOne" name="cons_situation_twentyOne"
                                    class="selectpicker show-tick form-control-hall">
                                <option value="1">月</option>
                                <option value="3">季</option>
                                <option value="6">半年</option>
                                <option value="12">年</option>
                            </select>
                        </td>
                        <td colspan="4">
                        </td>
                    </tr>
                    <tr>
                        <th>备注信息</th>
                        <td colspan="5">
                            <textarea rows="10" class="form-control" id="note_twentyOne"
                                      placeholder="框架合同签订内容限制2000字以内！"></textarea>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="box-footer" id="xFileDiv20">
                                <label class="btn btn-info pull-left"
                                       for="framework_contract_twentyOne_xFile">上传附件</label>
                                <form id="framework_contract_twentyOne_upload-form" method="post"
                                      enctype="multipart/form-data">
                                    <input type="file" id="framework_contract_twentyOne_xFile" name="file"
                                           style="position:absolute;clip:rect(0 0 0 0);">
                                </form>
                            </div>
                        </td>
                        <td colspan="5">
                            <div class="box-body">
                                <div class="form-group" id="framework_contract_twentyOne_fileList">
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="modal-footer">
                <button id="submit21" class="btn btn-info" data-container="body" data-toggle="popover">
                    提交
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
<!--运维结算-->
<div class="modal fade" id="operationSettlement" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" style="width:800px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">运维结算</h4>
            </div>
            <div class="form-horizontal modal-body">
                <html:hidden id="operation_settlement_related_id"/>
                <div class="form-group">
                    <div class="col-sm-1"></div>
                    <div class="col-sm-10">
                            <textarea rows="10" class="form-control" id="note_twentyThree"
                                      placeholder="运维结算备注信息限制2000字以内！"></textarea>
                    </div>
                    <div class="col-sm-1"></div>
                </div>
                <div class="box-footer" id="xFileDiv23">
                    <label class="btn btn-info pull-left" for="operation_support_twentyThree_xFile">上传附件</label>
                    <form id="operation_support_twentyThree_upload-form" method="post" enctype="multipart/form-data">
                        <input type="file" id="operation_support_twentyThree_xFile" name="file"
                               style="position:absolute;clip:rect(0 0 0 0);">
                    </form>
                </div>
                <div class="box-body">
                    <div class="form-group" id="operation_support_twentyThree_fileList">
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button id="submit23" class="btn btn-info" data-container="body" data-toggle="popover">
                    提交
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
<!--报账信息-->
<div class="modal fade" id="reimbursementInformation" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" style="width:1200px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">报账信息</h4>
            </div>
            <html:hidden id="reimbursement_information_related_id"/>
            <div class="form-horizontal modal-body">
                <table width="100%" border="0" class="tab-infor-1 table-work">
                    <tr>
                        <th>部门</th>
                        <td id="main_depart_twentyFive"></td>
                        <th>经分人</th>
                        <td id="apply_person_twentyFive"></td>
                        <th>供应商编号</th>
                        <td id="supplier_id_twentyFive"></td>
                    </tr>
                    <tr>
                        <th>账号</th>
                        <td id="account_no_twentyFive"></td>
                        <th>联行号</th>
                        <td id="unit_account_twentyFive"></td>
                        <th>合同名称</th>
                        <td id="contract_name_twentyFive"></td>
                    </tr>
                    <tr>
                        <th>合同价款</th>
                        <td id="price_twentyFive"></td>
                        <th>合同税款</th>
                        <td id="tax_twentyFive"></td>
                        <th>本次报账价款</th>
                        <td id="this_price_twentyFive"></td>

                    </tr>
                    <tr>
                        <th>本次报账税款</th>
                        <td colspan="5" id="this_tax_twentyFive"></td>
                    </tr>
                    <tr>
                        <th>备注信息</th>
                        <td colspan="5">
                            <textarea rows="10" class="form-control" id="note_twentyFive"
                                      placeholder="报账信息内容限制2000字以内！"></textarea>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="box-footer" id="xFileDiv25">
                                <label class="btn btn-info pull-left" for="reimbursement_information_twentyFive_xFile">上传附件</label>
                                <form id="reimbursement_information_twentyFive_upload-form" method="post"
                                      enctype="multipart/form-data">
                                    <input type="file" id="reimbursement_information_twentyFive_xFile" name="file"
                                           style="position:absolute;clip:rect(0 0 0 0);">
                                </form>
                            </div>
                        </td>
                        <td colspan="5">
                            <div class="box-body">
                                <div class="form-group" id="reimbursement_information_twentyFive_fileList">
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="modal-footer">
                <button id="submit25" class="btn btn-info" data-container="body"
                        data-toggle="popover">
                    提交
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
<!--产品发展稽核-->
<div class="modal fade" id="developmentAudit" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" style="width:800px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">产品发展稽核</h4>
            </div>
            <div class="form-horizontal modal-body">
                <html:hidden id="development_audit_related_id"/>
                <div class="form-group">
                    <div class="col-sm-1"></div>
                    <div class="col-sm-10">
                            <textarea rows="10" class="form-control" id="development_audit_note"
                                      placeholder="产品发展稽核备注信息限制2000字以内！"></textarea>
                    </div>
                    <div class="col-sm-1"></div>
                </div>
                <div class="box-footer" id="xFileDiv26">
                    <label class="btn btn-info pull-left" for="development_audit_twentySix_xFile">上传附件</label>
                    <form id="development_audit_twentySix_upload-form" method="post" enctype="multipart/form-data">
                        <input type="file" id="development_audit_twentySix_xFile" name="file"
                               style="position:absolute;clip:rect(0 0 0 0);">
                    </form>
                </div>

                <div class="box-body">
                    <div class="form-group" id="development_audit_twentySix_fileList">
                        ${fileList}
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button id="submit26" class="btn btn-info" data-container="body" data-toggle="popover">
                    提交
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
<!--产品后评估打分结果-->
<div class="modal fade" id="postEvaluation" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" style="width:800px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">产品后评估打分结果</h4>
            </div>
            <html:hidden id="post_evaluation_related_id"/>
            <div class="form-horizontal modal-body">
                <table width="100%" border="0" class="tab-infor-1 table-work">
                    <tr>
                        <th>主办部门</th>
                        <td id="main_depart_twentySeven"></td>
                        <th>申请人</th>
                        <td id="apply_person_twentySeven"></td>
                        <th>申请日期</th>
                        <td id="apply_date_twentySeven"></td>
                    </tr>
                    <tr>
                        <th>文件编号</th>
                        <td id="file_no_twentySeven"></td>
                        <th>标题</th>
                        <td colspan="3" id="file_title_twentySeven"></td>
                    </tr>
                    <tr>
                        <th>产品评估数据</th>
                        <td colspan="5">
                            <div class="form-group" id="prod_ass_twentySeven_fileList">
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>产品名称</th>
                        <td id="prod_name_twentySeven"></td>
                        <th>产品环节</th>
                        <td colspan="3" id="link_id_twentySeven"></td>
                    </tr>
                    <tr>
                        <th>结论意见</th>
                        <td id="colusion_opinion_twentySeven"></td>
                        <th>后评估分数</th>
                        <td colspan="3" id="ass_points_twentySeven"></td>
                    </tr>
                    <tr>
                        <th>审批单</th>
                        <td colspan="5">
                            <div class="form-group" id="review_file_id_twentySeven_fileList">
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>备注信息</th>
                        <td colspan="5">
                            <textarea rows="10" class="form-control" id="note_twentySeven"
                                      placeholder="产品后评估打分结果内容限制2000字以内！"></textarea>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="box-footer" id="xFileDiv27">
                                <label class="btn btn-info pull-left"
                                       for="post_evaluation_twentySeven_xFile">上传附件</label>
                                <form id="post_evaluation_twentySeven_upload-form" method="post"
                                      enctype="multipart/form-data">
                                    <input type="file" id="post_evaluation_twentySeven_xFile" name="file"
                                           style="position:absolute;clip:rect(0 0 0 0);">
                                </form>
                            </div>
                        </td>
                        <td colspan="5">
                            <div class="box-body">
                                <div class="form-group" id="post_evaluation_twentySeven_fileList">
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="modal-footer">
                <button id="submit27" class="btn btn-info" data-container="body" data-toggle="popover">
                    提交
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
<!--产品后评估决策结果-->
<div class="modal fade" id="evaluateDecision" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" style="width:800px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">产品后评估决策结果</h4>
            </div>
            <div class="form-horizontal modal-body">
                <html:hidden id="evaluate_decision_related_id"/>
                <div class="form-group">
                    <div class="col-sm-1"></div>
                    <div class="col-sm-10">
                            <textarea rows="10" class="form-control" id="evaluate_decision_note"
                                      placeholder="产品后评估决策结果备注信息限制2000字以内！"></textarea>
                    </div>
                    <div class="col-sm-1"></div>
                </div>
                <div class="box-footer" id="xFileDiv29">
                    <label class="btn btn-info pull-left" for="evaluate_decision_twentyNine_xFile">上传附件</label>
                    <form id="evaluate_decision_twentyNine_upload-form" method="post" enctype="multipart/form-data">
                        <input type="file" id="evaluate_decision_twentyNine_xFile" name="file"
                               style="position:absolute;clip:rect(0 0 0 0);">
                    </form>
                </div>

                <div class="box-body">
                    <div class="form-group" id="evaluate_decision_twentyNine_fileList">
                        ${fileList}
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button id="submit29" class="btn btn-info" data-container="body" data-toggle="popover">
                    提交
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
<!--产品下线-->
<div class="modal fade" id="productOff" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" style="width:800px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">产品下线</h4>
            </div>
            <div class="form-horizontal modal-body">
                <html:hidden id="product_off_related_id"/>
                <div class="form-group">
                    <div class="col-sm-1"></div>
                    <div class="col-sm-10">
                            <textarea rows="10" class="form-control" id="product_off_note"
                                      placeholder="产品下线备注信息限制2000字以内！"></textarea>
                    </div>
                    <div class="col-sm-1"></div>
                </div>
                <div class="box-footer" id="xFileDiv30">
                    <label class="btn btn-info pull-left" for="product_off_thirty_xFile">上传附件</label>
                    <form id="product_off_thirty_upload-form" method="post" enctype="multipart/form-data">
                        <input type="file" id="product_off_thirty_xFile" name="file"
                               style="position:absolute;clip:rect(0 0 0 0);">
                    </form>
                </div>

                <div class="box-body">
                    <div class="form-group" id="product_off_thirty_fileList">
                        ${fileList}
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button id="submit30" class="btn btn-info" data-container="body" data-toggle="popover">
                    提交
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
<div class="bg-clcc pos-rel">
    <div class="main-right" style="margin:0;">
        <div class="hierarchy bg-white">
            <p>工作流程</p>
        </div>
        <html:hidden id="batch_id"/>
        <div class="bj-white rel">
            <table width="100%" class="tab-infor-7 tabs-infor-1 bd-1c">
                <tbody>
                <tr>
                    <th height="220">产品优化设计</th>
                    <td></td>
                </tr>
                <tr>
                    <th height="60">产品业务立项</th>
                    <td></td>
                </tr>
                <tr>
                    <th height="350">产品建设</th>
                    <td></td>
                </tr>
                <tr>
                    <th height="365">产品营销</th>
                    <td></td>
                </tr>
                <tr>
                    <th height="320">产品评估</th>
                    <td></td>
                </tr>
                </tbody>
            </table>
            <div class="flow-box pos-ad" style="width:90%;">
                <ul class="flow-list pos-ad-1 logo-box" style="width:50px;">
                    <li id="link_1" class="flow-li-1 rel" style="z-index:17;">
                        <i></i>
                    </li>
                    <li id="link_2" class="flow-li-1 rel mgt-xst" style="z-index:16;">
                        <i></i>
                    </li>
                    <li id="link_3" class="flow-li-1 rel mgt-xst" style="z-index:15;">
                        <i></i>
                    </li>
                    <li id="link_6" class="flow-li-1 rel mgt-xst" style="z-index:14;">
                        <i></i>
                    </li>
                    <li id="link_7" class="flow-li-1 rel mgt-xst" style="z-index:13;">
                        <i></i>
                    </li>
                    <li id="link_8" class="flow-li-1 rel mgt-xst" style="z-index:12;">
                        <i></i>
                    </li>
                    <li id="link_9" class="flow-li-1 rel mgt-xst" style="z-index:11;">
                        <i></i>
                    </li>
                    <li id="link_10" class="flow-li-1 rel mgt-xst" style="z-index:10;">
                        <i></i>
                    </li>
                    <li id="link_11" class="flow-li-1 rel mgt-xst" style="z-index:9;">
                        <i></i>
                    </li>
                    <li id="link_12" class="flow-li-1 rel mgt-xst" style="z-index:8;">
                        <i></i>
                    </li>
                    <li id="link_13" class="flow-li-1 rel mgt-xst" style="z-index:7;">
                        <i></i>
                    </li>
                    <li id="link_14" class="flow-li-1 rel mgt-xst" style="z-index:6;">
                        <i></i>
                    </li>
                    <li id="link_15" class="flow-li-1 rel mgt-xst" style="z-index:5;">
                        <i></i>
                    </li>
                    <li id="link_26" class="flow-li-1 rel mgt-xst" style="z-index:3;">
                        <i></i>
                    </li>
                    <li id="link_27" class="flow-li-1 rel mgt-xst" style="z-index:2;">
                        <i></i>
                    </li>
                    <li id="link_29" class="flow-li-1 rel mgt-xst" style="z-index:1;">
                        <i></i>
                    </li>
                    <li id="link_30" class="flow-li-1 rel mgt-xst">
                    </li>
                </ul>
                <ul class="flow-list-1 pos-ad-2 flow-bor-list" style="width:30%; min-height:1200px; z-index:100;">
                    <li>
                        <a id="linkname_1" class="ui-btn">需求情况</a>
                    </li>
                    <li class="mgt-ls">
                        <a id="linkname_2" class="ui-btn">业务方案</a>
                    </li>
                    <li class="mgt-ls">
                        <a id="linkname_3" class="ui-btn">产品业务方案初评结果</a>
                    </li>
                    <li class="mgt-ls">
                        <a id="linkname_6" class="ui-btn">产品业务立项结果</a>
                    </li>
                    <li class="mgt-ls">
                        <a id="linkname_7" class="ui-btn">业务建设合同</a>
                    </li>
                    <li class="mgt-ls">
                        <a id="linkname_8" class="ui-btn">业务平台建设情况</a>
                    </li>
                    <li class="mgt-ls">
                        <a id="linkname_9" class="ui-btn">运维支撑</a>
                    </li>
                    <li class="mgt-ls">
                        <a id="linkname_10" class="ui-btn">产品测试</a>
                    </li>
                    <li class="mgt-ls">
                        <a id="linkname_11" class="ui-btn">产品验收</a>
                    </li>
                    <li class="mgt-ls">
                        <a id="linkname_12" class="ui-btn">产品资源匹配</a>
                    </li>
                    <li class="mgt-ls">
                        <a id="linkname_13" class="ui-btn">渠道发展</a>
                    </li>
                    <li class="mgt-ls">
                        <a id="linkname_14" class="ui-btn">产品上线发文</a>
                    </li>
                    <li class="mgt-ls">
                        <a id="linkname_15" class="ui-btn">工作日志文档</a>
                    </li>
                    <li class="mgt-ls">
                        <a id="linkname_26" class="ui-btn">产品发展稽核</a>
                    </li>
                    <li class="mgt-ls">
                        <a id="linkname_27" class="ui-btn">产品后评估打分结果</a>
                    </li>
                    <li class="mgt-ls">
                        <a id="linkname_29" class="ui-btn">产品后评估决策结果</a>
                    </li>
                    <li class="mgt-ls">
                        <a id="linkname_30" class="ui-btn">产品下线</a>
                    </li>
                </ul>
                <ul class="flow-list pos-ad-3" style="width:120px;">
                    <li class="flow-li-1 on-1">
                        <P>已完成</P>
                    </li>
                    <li class="flow-li-1 on-2">
                        <P>进行中</P>
                    </li>
                    <li class="flow-li-1">
                        <P>未开始</P>
                    </li>
                    <li class="flow-li-1 on-3">
                        <P>已填写</P>
                    </li>
                    <li class="flow-li-1 on-4">
                        <P>未填写</P>
                    </li>
                </ul>
                <!--可选两项-->
                <p class="blue-pos-1"></p>
                <div class="flow-box-1 pos-box-1" style="width:360px;">
                    <div class="rel" style="height:130px;">
                        <ul class="bor-list dista-list">
                            <li></li>
                        </ul>
                        <ul class="flow-list pos-ad-4" style="width:50px;">
                            <li id="chooselink_4" class="flow-no-4 rel" style="z-index:10;">
                            </li>
                            <li id="chooselink_5" class="flow-no-4 rel mgt-xst" style="z-index:9;">
                            </li>
                        </ul>
                        <ul class="flow-list-1 pos-ad-5 flow-bor-2">
                            <li>
                                <a id="chooselinkname_4" class="ui-btn">SI引入情况</a>
                            </li>
                            <li class="mgt-ls">
                                <a id="chooselinkname_5" class="ui-btn">行业终端引入情况</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <!--日常运维可选-->
                <p class="blue-pos-4"></p>
                <div class="flow-box-1 pos-box-4" style="width:50px;top:604px;">
                    <div class="rel" style="height:310px;">
                        <ul class="bor-list-1">
                            <li></li>
                            <li style="border-top:none;"></li>
                            <li style="border-top:none;"></li>
                            <li style="border-top:none;border-bottom:none;"></li>
                        </ul>
                    </div>
                </div>
                <div class="flow-box-1 pos-box-4" style="width:405px;left:625px;">
                    <div class="rel" style="height:350px;">
                        <ul class="bor-list-1 dista-list">
                            <li></li>
                            <li></li>
                            <li></li>
                            <li style="border-bottom:4px solid #25cfe3;"></li>
                        </ul>
                        <ul class="flow-list pos-ad-4" style="width:50px;">
                            <li id="chooselink_16" class="flow-no-4 rel" style="z-index:10;">
                            </li>
                            <li id="chooselink_17" class="flow-no-4 rel mgt-xst" style="z-index:9;">
                            </li>
                            <li id="chooselink_18" class="flow-no-4 rel mgt-xst" style="z-index:9;">
                            </li>
                            <li id="chooselink_19" class="flow-no-4 rel mgt-xst" style="z-index:9;">
                            </li>
                            <li id="chooselink_20" class="flow-no-4 rel mgt-xst" style="z-index:9;">
                            </li>
                        </ul>
                        <ul class="flow-list-1 pos-ad-5 flow-bor-2">
                            <li>
                                <a id="chooselinkname_16" class="ui-btn">工作量核定结果</a>
                            </li>
                            <li class="mgt-ls">
                                <a id="chooselinkname_17" class="ui-btn">维护结算单</a>
                            </li>
                            <li class="mgt-ls">
                                <a id="chooselinkname_18" class="ui-btn">订单</a>
                            </li>
                            <li class="mgt-ls">
                                <a id="chooselinkname_19" class="ui-btn">支撑方技术服务考核结果</a>
                            </li>
                            <li class="mgt-ls">
                                <a id="chooselinkname_20" class="ui-btn">投诉管理</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <!--发展稽核可选-->
                <p class="blue-pos-4" style="top:924px;"></p>
                <div class="flow-box-1 pos-box-4" style="width:50px;top:904px;left:575px;">
                    <div class="rel" style="height:100px;">
                        <ul class="bor-list-1">
                            <li style="border-top:none;border-bottom:4px solid #25cfe3;"></li>
                        </ul>
                    </div>
                </div>
                <div class="flow-box-1 pos-box-4" style="width:390px;top:900px;left:625px;">
                    <div class="rel" style="height:350px;">
                        <ul class="bor-list-1">
                            <li></li>
                            <li style="border-bottom:4px solid #25cfe3;"></li>
                        </ul>
                        <ul class="flow-list pos-ad-4" style="width:50px;">
                            <li id="chooselink_21" class="flow-no-4 rel" style="z-index:10;">
                            </li>
                            <li id="chooselink_23" class="flow-no-4 rel mgt-xst" style="z-index:9;">
                            </li>
                            <li id="chooselink_25" class="flow-no-4 rel mgt-xst" style="z-index:9;">
                            </li>
                        </ul>
                        <ul class="flow-list-1 pos-ad-5 flow-bor-2" style="left:104px;">
                            <li>
                                <a id="chooselinkname_21" class="ui-btn">框架合同签订</a>
                            </li>
                            <li class="mgt-ls">
                                <a id="chooselinkname_23" class="ui-btn">运维结算</a>
                            </li>
                            <li class="mgt-ls">
                                <a id="chooselinkname_25" class="ui-btn">报账信息</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="title-mian">
                <p id="product_name"></p>
            </div>
            <div class="dashed-box">
                <p>日常运维</p>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" src="/esop/static/js/jquery.form.js"></script>
<script type="text/javascript">
    function getURLParameter(name) {
        return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.search) || [, ""])[1].replace(/\+/g, '%20')) || null;
    }
    $("#product_name").html(getURLParameter("prod_name"));
    var linknum = 0;//当前环节
    //初始化数据
    initializeData();
    function initializeData() {
        $.ajax({
            type: "POST",
            url: "getLinkIdsByProdId",
            data: {
                "prod_id": getURLParameter("prod_id")
            }
        }).then(function (data) {
            if (data.length > 0) {
                $("#batch_id").val(data[0].batch_id);
            }
            $.each(data, function (index, item) {
                $("#link_" + item.link_id).removeClass("on-2").addClass("on-1");
                $("#linkname_" + item.link_id).removeClass("on");
                //style="cursor:default;" 让<a>标签不显示小手图标
                //$("#chooselinkname_" + item.link_id).removeAttr('style');
                $("#chooselink_" + item.link_id).removeClass("flow-no-4").addClass("flow-no-3");
                linknum = item.link_id;
            });
            //查询当前流转到的环节
            $.ajax({
                type: "POST",
                url: "getLinkIdingByProdId",
                data: {
                    "prod_id": getURLParameter("prod_id")
                }
            }).then(function (data) {
                if(data=="28"){data="29";}
                $("#current_link").val(data);
                if (linknum == "30") {
                    for (var i = 1; i < 31; i++) {
                        $("#submit" + i).hide();
                        $("#xFileDiv" + i).hide();
                    }
                }else{
                    $("#link_" + data).removeClass("on-1").addClass("on-2");
                    $("#linkname_" + data).addClass("on");
                }
            });
            //查询是否有投诉信息
            $.ajax({
                type: "POST",
                url: "selectProductComplaints",
                data: {
                    "prod_id": getURLParameter("prod_id")
                }
            }).then(function (data) {
                if(data.length>0){
                    $("#chooselink_20").removeClass("flow-no-4").addClass("flow-no-3");
                }
            });
        });
        //$('#linkname_2').attr('style','cursor:default;');
        //if($('#linkname_2').attr("style").indexOf("cursor:default;") != (-1)){alert("已定义");}
    }
    //产品需求情况
    $("#linkname_1").click(function () {
        //$("#batch_id").val() != ""表示环节1已添加数据
        if ($("#batch_id").val() != "") {
            $.ajax({
                type: "POST",
                url: "selectProgramReviewInfo",
                data: {
                    "prod_id": getURLParameter("prod_id"),
                    "batch_id": $("#batch_id").val(),
                    "link_id": "1"
                }
            }).then(function (data) {
                $('#create_date').val(data.create_date);
                $('#demand_situation_note').val(data.review_opinion);
                //如果附件编码不为空，开始取附件
                if (data.review_file_id != "") {
                    $('#demand_situation_related_id').val(data.review_file_id);
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": data.review_file_id
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>");
                            if (linknum < "30") {
                                $("#fileList").append("<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                        + "<i class=\"fa fa-times\"></i></button></div>");
                            }
                            $("#fileList").append("</div>");
                        });
                    });
                }
            });
        }
        $('#demandSituationModal').modal('show');
    });
    //提交产品需求情况信息
    $("#submit1").click(function () {
        if(lengthVerify($('#demand_situation_note'))) return; //判断字符内容是否超长
        $.ajax({
            type: "POST",
            url: "demandSituation",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "1",
                "create_date": $('#create_date').val(),//用来判断此条数据是否已存在
                "review_opinion": $('#demand_situation_note').val(),
                "review_file_id": $('#demand_situation_related_id').val()
            }
        }).then(function (data) {
            $("#batch_id").val(data.batch_id);
            $('#demandSituationModal').modal('hide');
            $('#operationAlertInfo').modal('show');
        });
    });
    //在操作提醒model界面隐藏时执行的事件
    $('#operationAlertInfo').on('hidden.bs.modal', function () {
        initializeData();
    })
    //产品需求情况文件添加和删除
    $("#xFile").on("change", function (e) {//alert($(e.target));//alert($('#xFile')[0].files[0]);
        //当没附件关联id时取值
        getRelatedId($('#demand_situation_related_id'));
        //此方式无法支持IE9及一下浏览器
        /*if($('#xFile')[0].files[0] != undefined)
         {
         var fd = new FormData();
         alert("ceetest");
         //fd.append("file", $('#xFile')[0].files[0]);
         fd.append("file", fileObj);
         fd.append("related_id",$('#demand_situation_related_id').val());
         alert("deet");
         $.ajax({
         type: "POST",
         url: "fileUpload",
         data: fd,
         contentType: false,
         processData: false,
         cache: false
         }).then(function (data) {alert("related_id="+data.related_id);$("#demand_situation_related_id").val(data.related_id);
         alert(data.id);
         $("#fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/"+data.pathValue+"/"+$('#xFile')[0].files[0].name+"'>"+$('#xFile')[0].files[0].name
         +"</a></div>"
         +"<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this,"+data.id+")' title=\"删除\">"
         +"<i class=\"fa fa-times\"></i></button></div></div>");
         });
         }*/
        //为了支持IE9浏览器
        $("#upload-form").ajaxSubmit({ //重点：使用ajaxSubmit()提交表单。
            url: "${pageContext.request.contextPath}/fileUpload",
            type: "post", //提交的类型必需是post，
            data: {related_id: $("#demand_situation_related_id").val()},
            dateType: "json",
            success: function (data) {
                //如果提交成功执行,因为返回类型为[object document],无法解析，只好重新连库查询更新附件列表
                //如果附件编码不为空，开始取附件
                if ($('#demand_situation_related_id').val() != "") {
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": $('#demand_situation_related_id').val()
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>"
                                    + "<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div></div>");
                        });
                    });
                }
                /*!//ie9返回结果为[object Document]
                 alert("related_id="+data.getElementById("related_id"));$("#demand_situation_related_id").val(data.related_id);

                 $("#fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/"+data.pathValue+"/"+$('#xFile')[0].files[0].name+"'>"+$('#xFile')[0].files[0].name
                 +"</a></div>"
                 +"<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this,"+data.id+")' title=\"删除\">"
                 +"<i class=\"fa fa-times\"></i></button></div></div>");*/
            },
            error: function (data) {
                var msg="";
                 for(var a in data){
                 msg += a + ';   ' ;
                 }alert(msg);
                 alert(data.fail);
                 alert(data.statusText);
                 alert(data.success);
                 alert(data.error);
                alert("error:" + data);
            }
        });
        //setTimeout(function () {alert("5秒后你可以刷新了！");}, 5000);
    });
    //将Object转换为String函数
    function obj2str(o) {
        var r = [];
        if (typeof o == "string") return "\"" + o.replace(/([\'\"\\])/g, "\\$1").replace(/(\n)/g, "\\n").replace(/(\r)/g, "\\r").replace(/(\t)/g, "\\t") + "\"";
        if (typeof o == "object") {
            if (!o.sort) {
                for (var i in o)
                    r.push(i + ":" + obj2str(o[i]));
                if (!!document.all && !/^\n?function\s*toString\(\)\s*\{\n?\s*\[native code\]\n?\s*\}\n?\s*$/.test(o.toString)) {
                    r.push("toString:" + o.toString.toString());
                }
                r = "{" + r.join() + "}"
            } else {
                for (var i = 0; i < o.length; i++)
                    r.push(obj2str(o[i]))
                r = "[" + r.join() + "]"
            }
            return r;
        }
        return o.toString();
    }
    //验证字符长度
    function GetLength(str) {
        return str.replace(/[\u0391-\uFFE5]/g, "aa").length;  //先把中文替换成两个字节的英文，在计算长度
    };
    function deleteFile(buttonID, fileID) {
        $.ajax({
            type: "POST",
            url: "deleteFile",
            data: {id: fileID}
        }).then(function (data) {
            alert(data.result);
            $(buttonID).parent().parent().remove();
        });
    }
    //产品业务方案
    $("#linkname_2").click(function () {
        if ($("#current_link").val() <= 1) {
            return;
        }
        //$("#batch_id").val() != ""表示环节1已添加数据
        if ($("#batch_id").val() != "") {
            $.ajax({
                type: "POST",
                url: "selectProgramReviewInfo",
                data: {
                    "prod_id": getURLParameter("prod_id"),
                    "batch_id": $("#batch_id").val(),
                    "link_id": "2"
                }
            }).then(function (data) {
                $('#operational_program_note').val(data.review_opinion);
                $('#create_date').val(data.create_date);
                //如果附件编码不为空，开始取附件
                if (data.review_file_id != "") {
                    $('#operational_program_related_id').val(data.review_file_id);
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": data.review_file_id
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#operational_program_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#operational_program_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>");
                            if (linknum < "30") {
                                $("#operational_program_fileList").append("<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                        + "<i class=\"fa fa-times\"></i></button></div>");
                            }
                            $("#operational_program_fileList").append("</div>");
                        });
                    });
                }
            });
        }
        $('#operationalProgramModal').modal('show');
    });
    //提交产品业务方案信息
    $("#submit2").click(function () {
        if(lengthVerify($('#operational_program_note'))) return; //判断字符内容是否超长
        $.ajax({
            type: "POST",
            url: "demandSituation",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "2",
                "create_date": $('#create_date').val(),//用来判断此条数据是否已存在
                "review_opinion": $('#operational_program_note').val(),
                "review_file_id": $('#operational_program_related_id').val()
            }
        }).then(function (data) {
            $("#batch_id").val(data.batch_id);
            $('#operationalProgramModal').modal('hide');
            $('#operationAlertInfo').modal('show');
        });
    });
    //产品业务方案文件添加和删除
    $("#operational_program_xFile").on("change", function (e) {
        //当没附件关联id时取值
        getRelatedId($('#operational_program_related_id'));
        //为了支持IE9浏览器，文件上传更新
        $("#operational_program_upload-form").ajaxSubmit({ //重点：使用ajaxSubmit()提交表单。
            url: "${pageContext.request.contextPath}/fileUpload",
            type: "post", //提交的类型必需是post，
            data: {related_id: $("#operational_program_related_id").val()},
            dateType: "json",
            success: function (data) {
                //提交成功执行,如果附件编码不为空，开始取附件
                if ($('#operational_program_related_id').val() != "") {
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": $('#operational_program_related_id').val()
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#operational_program_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#operational_program_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>"
                                    + "<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div></div>");
                        });
                    });
                }
            },
            error: function (data) {
                alert("error:" + data);
            }
        });
    });
    //产品业务方案初评结果programDemonstration
    $("#linkname_3").click(function () {
        if ($("#current_link").val() <= 2) {
            return;
        }
        $.ajax({
            type: "POST",
            url: "selectProgramReviewInfo",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "3"
            }
        }).then(function (data) {
            $('#main_depart_three').html(data.main_depart);
            $('#apply_person_three').html(data.apply_person);
            $('#apply_date_three').html(data.apply_date);
            $('#file_no_three').html(data.file_no);
            $('#file_title_three').html(data.file_title);
            $('#prod_name_three').html(data.prod_name);
            $('#link_id_three').html(data.link_id);
            $('#note_three').html(data.note);
            if (data.colusion_opinion == "0") {
                $('#colusion_opinion_three').html("不同意");
            } else if (data.colusion_opinion == "1") {
                $('#colusion_opinion_three').html("同意");
            }
            $('#review_opinion_three').html(data.review_opinion);
            $('#create_date').val(data.create_date);
            //如果附件编码不为空，开始取附件
            $.ajax({
                type: "POST",
                url: "uploadFileSelect",
                data: {
                    "related_id": data.prod_plan
                }
            }).then(function (data) {
                //循环展现附件信息
                $("#prod_plan_fileList div").remove();
                $.each(data, function (index, item) {
                    $("#prod_plan_fileList").append("<div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "?oa_file=" + item.oa_file + "'>" + item.oa_file
                            + "</a></div>");
                });
            });
            $.ajax({
                type: "POST",
                url: "uploadFileSelect",
                data: {
                    "related_id": data.review_file_id
                }
            }).then(function (data) {
                //循环展现附件信息
                $("#review_file_id_three_fileList div").remove();
                $.each(data, function (index, item) {
                    $("#review_file_id_three_fileList").append("<div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "?oa_file=" + item.oa_file + "'>" + item.oa_file
                            + "</a></div>");
                });
            });
            //如果附件编码不为空，开始取附件
            if (data.annex != "") {
                $('#solutions_argument_related_id').val(data.annex);
                $.ajax({
                    type: "POST",
                    url: "uploadFileSelect",
                    data: {
                        "related_id": data.annex
                    }
                }).then(function (data) {
                    //循环展现附件信息
                    $("#solutions_argument_three_fileList div").remove();
                    $.each(data, function (index, item) {
                        $("#solutions_argument_three_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                + "</a></div>");
                        if (linknum < "30") {
                            $("#solutions_argument_three_fileList").append("<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div>");
                        }
                        $("#solutions_argument_three_fileList").append("</div>");
                    });
                });
            }
        });
        $('#solutionsArgument').modal('show');
    });
    //提交产品业务方案初评结果
    $("#submit3").click(function () {
        if(lengthVerify($('#note_three'))) return; //判断字符内容是否超长
        $.ajax({
            type: "POST",
            url: "demandSituation",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "3",
                "create_date": $('#create_date').val(),//用来判断此条数据是否已存在
                "note": $('#note_three').val(),
                "annex": $('#solutions_argument_related_id').val()
            }
        }).then(function (data) {
            $("#batch_id").val(data.batch_id);
            $('#solutionsArgument').modal('hide');
            $('#operationAlertInfo').modal('show');
        });
    });
    //产品业务方案文件添加和删除
    $("#solutions_argument_three_xFile").on("change", function (e) {
        //当没附件关联id时取值
        getRelatedId($('#solutions_argument_related_id'));
        //为了支持IE9浏览器，文件上传更新
        $("#solutions_argument_three_upload-form").ajaxSubmit({ //重点：使用ajaxSubmit()提交表单。
            url: "${pageContext.request.contextPath}/fileUpload",
            type: "post", //提交的类型必需是post，
            data: {related_id: $("#solutions_argument_related_id").val()},
            dateType: "json",
            success: function (data) {
                //如果提交成功执行
                //如果附件编码不为空，开始取附件
                if ($('#solutions_argument_related_id').val() != "") {
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": $('#solutions_argument_related_id').val()
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#solutions_argument_three_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#solutions_argument_three_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>"
                                    + "<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div></div>");
                        });
                    });
                }
            },
            error: function (data) {
                alert("error:" + data);
            }
        });
    });
    //SI引入情况
    $("#chooselinkname_4").click(function () {
        if ($("#current_link").val() <= 3) {
            return;
        }
        $.ajax({
            type: "POST",
            url: "selectProgramReviewInfo",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "4"
            }
        }).then(function (data) {
            $('#main_depart_four').html(data.main_depart);
            $('#apply_person_four').html(data.apply_person);
            $('#apply_date_four').html(data.apply_date);
            $('#file_no_four').html(data.file_no);
            $('#file_title_four').html(data.file_title);
            $('#prod_name_four').html(data.prod_name);
            $('#link_id_four').html(data.link_id);
            $('#note_four').html(data.note);
            if (data.colusion_opinion == "0") {
                $('#colusion_opinion_four').html("不立项");
            } else if (data.colusion_opinion == "1") {
                $('#colusion_opinion_four').html("立项");
            }
            $('#ass_points_four').html(data.ass_points);
            $('#create_date').val(data.create_date);
            //如果附件编码不为空，开始取附件
            $.ajax({
                type: "POST",
                url: "uploadFileSelect",
                data: {
                    "related_id": data.si_material
                }
            }).then(function (data) {
                //循环展现附件信息
                $("#si_material_fileList div").remove();
                $.each(data, function (index, item) {
                    $("#si_material_fileList").append("<div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "?oa_file=" + item.oa_file + "'>" + item.oa_file
                            + "</a></div>");
                });
            });
            $.ajax({
                type: "POST",
                url: "uploadFileSelect",
                data: {
                    "related_id": data.review_file_id
                }
            }).then(function (data) {
                //循环展现附件信息
                $("#review_file_id_four_fileList div").remove();
                $.each(data, function (index, item) {
                    $("#review_file_id_four_fileList").append("<div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "?oa_file=" + item.oa_file + "'>" + item.oa_file
                            + "</a></div>");
                });
            });
            //如果附件编码不为空，开始取附件
            if (data.annex != "") {
                $('#si_introduced_related_id').val(data.annex);
                $.ajax({
                    type: "POST",
                    url: "uploadFileSelect",
                    data: {
                        "related_id": data.annex
                    }
                }).then(function (data) {
                    //循环展现附件信息
                    $("#si_introduced_four_fileList div").remove();
                    $.each(data, function (index, item) {
                        $("#si_introduced_four_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                + "</a></div>");
                        if (linknum < "30") {
                            $("#si_introduced_four_fileList").append("<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div>");
                        }
                        $("#si_introduced_four_fileList").append("</div>");
                    });
                });
            }
        });
        $('#siIntroduced').modal('show');
    });
    //提交SI引入情况信息
    $("#submit4").click(function () {
        if(lengthVerify($('#note_four'))) return; //判断字符内容是否超长
        $.ajax({
            type: "POST",
            url: "demandSituation",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "4",
                "create_date": $('#create_date').val(),//用来判断此条数据是否已存在
                "note": $('#note_four').val(),
                "annex": $('#si_introduced_related_id').val()
            }
        }).then(function (data) {
            $("#batch_id").val(data.batch_id);
            $('#siIntroduced').modal('hide');
            $('#operationAlertInfo').modal('show');
        });
    });
    //SI引入情况附件添加和删除
    $("#si_introduced_four_xFile").on("change", function (e) {
        //当没附件关联id时取值
        getRelatedId($('#si_introduced_related_id'));
        //为了支持IE9浏览器，文件上传更新
        $("#si_introduced_four_upload-form").ajaxSubmit({ //重点：使用ajaxSubmit()提交表单。
            url: "${pageContext.request.contextPath}/fileUpload",
            type: "post", //提交的类型必需是post，
            data: {related_id: $("#si_introduced_related_id").val()},
            dateType: "json",
            success: function (data) {
                //提交成功执行,如果附件编码不为空，开始取附件
                if ($('#si_introduced_related_id').val() != "") {
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": $('#si_introduced_related_id').val()
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#si_introduced_four_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#si_introduced_four_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>"
                                    + "<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div></div>");
                        });
                    });
                }
            },
            error: function (data) {
                alert("error:" + data);
            }
        });
    });
    //行业终端引入情况
    $("#chooselinkname_5").click(function () {
        if ($("#current_link").val() <= 3) {
            return;
        }
        $.ajax({
            type: "POST",
            url: "selectProgramReviewInfo",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "5"
            }
        }).then(function (data) {
            $('#main_depart_five').html(data.main_depart);
            $('#apply_person_five').html(data.apply_person);
            $('#apply_date_five').html(data.apply_date);
            $('#file_no_five').html(data.file_no);
            $('#file_title_five').html(data.file_title);
            $('#prod_name_five').html(data.prod_name);
            $('#link_id_five').html(data.link_id);
            $('#note_five').html(data.note);
            if (data.colusion_opinion == "0") {
                $('#colusion_opinion_five').html("不同意");
            } else if (data.colusion_opinion == "1") {
                $('#colusion_opinion_five').html("同意");
            }
            $('#create_date').val(data.create_date);
            //如果附件编码不为空，开始取附件
            $.ajax({
                type: "POST",
                url: "uploadFileSelect",
                data: {
                    "related_id": data.review_file_id
                }
            }).then(function (data) {
                //循环展现附件信息
                $("#review_file_id_five_fileList div").remove();
                $.each(data, function (index, item) {
                    $("#review_file_id_five_fileList").append("<div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "?oa_file=" + item.oa_file + "'>" + item.oa_file
                            + "</a></div>");
                });
            });
            //如果附件编码不为空，开始取附件
            if (data.annex != "") {
                $('#terminal_introduced_related_id').val(data.annex);
                $.ajax({
                    type: "POST",
                    url: "uploadFileSelect",
                    data: {
                        "related_id": data.annex
                    }
                }).then(function (data) {
                    //循环展现附件信息
                    $("#terminal_introduced_five_fileList div").remove();
                    $.each(data, function (index, item) {
                        $("#terminal_introduced_five_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                + "</a></div>");
                        if (linknum < "30") {
                            $("#terminal_introduced_five_fileList").append("<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div></div>");
                        }
                        $("#terminal_introduced_five_fileList").append("</div>");
                    });
                });
            }
        });
        $('#terminalIntroduced').modal('show');
    });
    //提交行业终端引入情况信息
    $("#submit5").click(function () {
        if(lengthVerify($('#note_five'))) return; //判断字符内容是否超长
        $.ajax({
            type: "POST",
            url: "demandSituation",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "5",
                "create_date": $('#create_date').val(),//用来判断此条数据是否已存在
                "note": $('#note_five').val(),
                "annex": $('#terminal_introduced_related_id').val()
            }
        }).then(function (data) {
            $("#batch_id").val(data.batch_id);
            $('#terminalIntroduced').modal('hide');
            $('#operationAlertInfo').modal('show');
        });
    });
    //行业终端引入情况附件添加和删除
    $("#terminal_introduced_five_xFile").on("change", function (e) {
        //当没附件关联id时取值
        getRelatedId($('#terminal_introduced_related_id'));
        //为了支持IE9浏览器，文件上传更新
        $("#terminal_introduced_five_upload-form").ajaxSubmit({ //重点：使用ajaxSubmit()提交表单。
            url: "${pageContext.request.contextPath}/fileUpload",
            type: "post", //提交的类型必需是post，
            data: {related_id: $("#terminal_introduced_related_id").val()},
            dateType: "json",
            success: function (data) {
                //如果提交成功执行
                //如果附件编码不为空，开始取附件
                if ($('#terminal_introduced_related_id').val() != "") {
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": $('#terminal_introduced_related_id').val()
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#terminal_introduced_five_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#terminal_introduced_five_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>"
                                    + "<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div></div>");
                        });
                    });
                }
            },
            error: function (data) {
                alert("error:" + data);
            }
        });
    });
    //产品业务立项结果
    $("#linkname_6").click(function () {
        if ($("#current_link").val() <= 5) {
            return;
        }
        $.ajax({
            type: "POST",
            url: "selectProgramReviewInfo",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "6"
            }
        }).then(function (data) {
            $('#main_depart_six').html(data.main_depart);
            $('#apply_person_six').html(data.apply_person);
            $('#apply_date_six').html(data.apply_date);
            $('#file_no_six').html(data.file_no);
            $('#file_title_six').html(data.file_title);
            $('#prod_name_six').html(data.prod_name);
            $('#link_id_six').html(data.link_id);
            $('#note_six').html(data.note);
            if (data.colusion_opinion == "0") {
                $('#colusion_opinion_six').html("不通过");
            } else if (data.colusion_opinion == "1") {
                $('#colusion_opinion_six').html("通过");
            }
            $('#create_date').val(data.create_date);
            //如果附件编码不为空，开始取附件
            $.ajax({
                type: "POST",
                url: "uploadFileSelect",
                data: {
                    "related_id": data.review_file_id
                }
            }).then(function (data) {
                //循环展现附件信息
                $("#project_basis_six_fileList div").remove();
                $.each(data, function (index, item) {
                    $("#project_basis_six_fileList").append("<div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "?oa_file=" + item.oa_file + "'>" + item.oa_file
                            + "</a></div>");
                });
            });
            //如果附件编码不为空，开始取附件
            $.ajax({
                type: "POST",
                url: "uploadFileSelect",
                data: {
                    "related_id": data.review_file_id
                }
            }).then(function (data) {
                //循环展现附件信息
                $("#review_file_id_six_fileList div").remove();
                $.each(data, function (index, item) {
                    $("#review_file_id_six_fileList").append("<div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "?oa_file=" + item.oa_file + "'>" + item.oa_file
                            + "</a></div>");
                });
            });
            //如果附件编码不为空，开始取附件
            if (data.annex != "") {
                $('#business_project_related_id').val(data.annex);
                $.ajax({
                    type: "POST",
                    url: "uploadFileSelect",
                    data: {
                        "related_id": data.annex
                    }
                }).then(function (data) {
                    //循环展现附件信息
                    $("#business_project_six_fileList div").remove();
                    $.each(data, function (index, item) {
                        $("#business_project_six_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                + "</a></div>");
                        if (linknum < "30") {
                            $("#business_project_six_fileList").append("<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div>");
                        }
                        $("#business_project_six_fileList").append("</div>");
                    });
                });
            }
        });
        $('#businessProject').modal('show');
    });
    //提交产品业务立项结果信息
    $("#submit6").click(function () {
        if(lengthVerify($('#note_six'))) return; //判断字符内容是否超长
        $.ajax({
            type: "POST",
            url: "demandSituation",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "6",
                "create_date": $('#create_date').val(),//用来判断此条数据是否已存在
                "note": $('#note_six').val(),
                "annex": $('#business_project_related_id').val()
            }
        }).then(function (data) {
            $("#batch_id").val(data.batch_id);
            $('#businessProject').modal('hide');
            $('#operationAlertInfo').modal('show');
        });
    });
    //产品业务立项结果附件添加和删除
    $("#business_project_six_xFile").on("change", function (e) {
        //当没附件关联id时取值
        getRelatedId($('#business_project_related_id'));
        //为了支持IE9浏览器，文件上传更新
        $("#business_project_six_upload-form").ajaxSubmit({ //重点：使用ajaxSubmit()提交表单。
            url: "${pageContext.request.contextPath}/fileUpload",
            type: "post", //提交的类型必需是post，
            data: {related_id: $("#business_project_related_id").val()},
            dateType: "json",
            success: function (data) {
                //如果提交成功执行
                //如果附件编码不为空，开始取附件
                if ($('#business_project_related_id').val() != "") {
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": $('#business_project_related_id').val()
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#business_project_six_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#business_project_six_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>"
                                    + "<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div></div>");
                        });
                    });
                }
            },
            error: function (data) {
                alert("error:" + data);
            }
        });
    });
    //业务建设合同
    $("#linkname_7").click(function () {
        if ($("#current_link").val() <= 6) {
            return;
        }
        $.ajax({
            type: "POST",
            url: "selectProgramReviewInfo",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "7"
            }
        }).then(function (data) {
            $('#main_depart_seven').html(data.main_depart);
            $('#apply_person_seven').html(data.apply_person);
            $('#apply_date_seven').html(data.apply_date);
            $('#contract_id_seven').html(data.contract_id);
            $('#contract_name_seven').html(data.contract_name);
            $('#contract_type_seven').html(data.contract_type);
            $('#contract_amount_seven').html(data.contract_amount);
            $('#contract_term_seven').html(data.contract_term);
            $('#supplier_name_seven').html(data.supplier_name);
            $('#legal_rep_seven').html(data.legal_rep);
            $('#tax_num_seven').html(data.tax_num);
            $('#contract_person_seven').html(data.contract_person);
            $('#contract_phone_seven').html(data.contract_phone);
            $('#account_no_seven').html(data.account_no);
            $('#account_name_seven').html(data.account_name);
            $('#note_seven').html(data.note);
            $('#create_date').val(data.create_date);
            //如果附件编码不为空，开始取附件
            $.ajax({
                type: "POST",
                url: "uploadFileSelect",
                data: {
                    "related_id": data.contract_rel
                }
            }).then(function (data) {
                //循环展现附件信息
                $("#contract_rel_seven_fileList div").remove();
                $.each(data, function (index, item) {
                    $("#contract_rel_seven_fileList").append("<div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "?oa_file=" + item.oa_file + "'>" + item.oa_file
                            + "</a></div>");
                });
            });
            //如果附件编码不为空，开始取附件
            if (data.annex != "") {
                $('#construction_contract_related_id').val(data.annex);
                $.ajax({
                    type: "POST",
                    url: "uploadFileSelect",
                    data: {
                        "related_id": data.annex
                    }
                }).then(function (data) {
                    //循环展现附件信息
                    $("#construction_contract_seven_fileList div").remove();
                    $.each(data, function (index, item) {
                        $("#construction_contract_seven_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                + "</a></div>");
                        if (linknum < "30") {
                            $("#construction_contract_seven_fileList").append("<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div>");
                        }
                        $("#construction_contract_seven_fileList").append("</div>");
                    });
                });
            }
        });
        $('#constructionContract').modal('show');
    });
    //提交业务建设合同信息
    $("#submit7").click(function () {
        if(lengthVerify($('#note_seven'))) return; //判断字符内容是否超长
        $.ajax({
            type: "POST",
            url: "demandSituation",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "7",
                "create_date": $('#create_date').val(),//用来判断此条数据是否已存在
                "note": $('#note_seven').val(),
                "annex": $('#construction_contract_related_id').val()
            }
        }).then(function (data) {
            $("#batch_id").val(data.batch_id);
            $('#constructionContract').modal('hide');
            $('#operationAlertInfo').modal('show');
        });
    });
    //业务建设合同附件添加和删除
    $("#construction_contract_seven_xFile").on("change", function (e) {
        //当没附件关联id时取值
        getRelatedId($('#construction_contract_related_id'));
        //为了支持IE9浏览器，文件上传更新
        $("#construction_contract_seven_upload-form").ajaxSubmit({ //重点：使用ajaxSubmit()提交表单。
            url: "${pageContext.request.contextPath}/fileUpload",
            type: "post", //提交的类型必需是post，
            data: {related_id: $("#construction_contract_related_id").val()},
            dateType: "json",
            success: function (data) {
                //如果提交成功执行
                //如果附件编码不为空，开始取附件
                if ($('#construction_contract_related_id').val() != "") {
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": $('#construction_contract_related_id').val()
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#construction_contract_seven_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#construction_contract_seven_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>"
                                    + "<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div></div>");
                        });
                    });
                }
            },
            error: function (data) {
                alert("error:" + data);
            }
        });
    });
    //业务平台建设情况
    $("#linkname_8").click(function () {
        if ($("#current_link").val() <= 7) {
            return;
        }
        //$("#batch_id").val() != ""表示环节1已添加数据
        if ($("#batch_id").val() != "") {
            $.ajax({
                type: "POST",
                url: "selectProgramReviewInfo",
                data: {
                    "prod_id": getURLParameter("prod_id"),
                    "batch_id": $("#batch_id").val(),
                    "link_id": "8"
                }
            }).then(function (data) {
                $('#platform_construction_note').val(data.review_opinion);
                $('#create_date').val(data.create_date);
                //如果附件编码不为空，开始取附件
                if (data.cons_situation != "") {
                    $('#platform_construction_related_id').val(data.cons_situation);
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": data.cons_situation
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#platform_construction_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#platform_construction_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>");
                            if (linknum < "30") {
                                $("#platform_construction_fileList").append("<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                        + "<i class=\"fa fa-times\"></i></button></div>");
                            }
                            $("#platform_construction_fileList").append("</div>");
                        });
                    });
                }
            });
        }
        $('#platformConstruction').modal('show');
    });
    //提交业务平台建设情况信息
    $("#submit8").click(function () {
        $.ajax({
            type: "POST",
            url: "demandSituation",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "8",
                "create_date": $('#create_date').val(),//用来判断此条数据是否已存在
                "review_opinion": $('#platform_construction_note').val(),
                "cons_situation": $('#platform_construction_related_id').val()
            }
        }).then(function (data) {
            $("#batch_id").val(data.batch_id);
            $('#platformConstruction').modal('hide');
            $('#operationAlertInfo').modal('show');
        });
    });
    //业务平台建设情况附件添加和删除
    $("#platform_construction_xFile").on("change", function (e) {
        //当没附件关联id时取值
        getRelatedId($('#platform_construction_related_id'));
        //为了支持IE9浏览器，文件上传更新
        $("#platform_construction_upload-form").ajaxSubmit({ //重点：使用ajaxSubmit()提交表单。
            url: "${pageContext.request.contextPath}/fileUpload",
            type: "post", //提交的类型必需是post，
            data: {related_id: $("#platform_construction_related_id").val()},
            dateType: "json",
            success: function (data) {
                //如果提交成功执行
                //如果附件编码不为空，开始取附件
                if ($('#platform_construction_related_id').val() != "") {
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": $('#platform_construction_related_id').val()
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#platform_construction_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#platform_construction_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>"
                                    + "<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div></div>");
                        });
                    });
                }
            },
            error: function (data) {
                alert("error:" + data);
            }
        });
    });
    //运维支撑
    $("#linkname_9").click(function () {
        if ($("#current_link").val() <= 8) {
            return;
        }
        if ($("#batch_id").val() != "") {
            $.ajax({
                type: "POST",
                url: "selectProgramReviewInfo",
                data: {
                    "prod_id": getURLParameter("prod_id"),
                    "batch_id": $("#batch_id").val(),
                    "link_id": "9"
                }
            }).then(function (data) {
                $('#operation_maintenance_support_note').val(data.review_opinion);
                $('#create_date').val(data.create_date);
                //如果附件编码不为空，开始取附件
                if (data.operation_support != "") {
                    $('#operation_maintenance_support_related_id').val(data.operation_support);
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": data.operation_support
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#operation_maintenance_support_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#operation_maintenance_support_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>");
                            if (linknum < "30") {
                                $("#operation_maintenance_support_fileList").append("<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                        + "<i class=\"fa fa-times\"></i></button></div>");
                            }
                            $("#operation_maintenance_support_fileList").append("</div>");
                        });
                    });
                }
            });
        }
        $('#operationMaintenanceSupport').modal('show');
    });
    //提交运维支撑情况信息
    $("#submit9").click(function () {
        $.ajax({
            type: "POST",
            url: "demandSituation",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "9",
                "create_date": $('#create_date').val(),//用来判断此条数据是否已存在
                "review_opinion": $('#operation_maintenance_support_note').val(),
                "operation_support": $('#operation_maintenance_support_related_id').val()
            }
        }).then(function (data) {
            $("#batch_id").val(data.batch_id);
            $('#operationMaintenanceSupport').modal('hide');
            $('#operationAlertInfo').modal('show');
        });
    });
    //运维支撑附件添加和删除
    $("#operation_maintenance_support_xFile").on("change", function (e) {
        //当没附件关联id时取值
        getRelatedId($('#operation_maintenance_support_related_id'));
        //为了支持IE9浏览器，文件上传更新
        $("#operation_maintenance_support_upload-form").ajaxSubmit({ //重点：使用ajaxSubmit()提交表单。
            url: "${pageContext.request.contextPath}/fileUpload",
            type: "post", //提交的类型必需是post，
            data: {related_id: $("#operation_maintenance_support_related_id").val()},
            dateType: "json",
            success: function (data) {
                //如果提交成功执行
                //如果附件编码不为空，开始取附件
                if ($('#operation_maintenance_support_related_id').val() != "") {
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": $('#operation_maintenance_support_related_id').val()
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#operation_maintenance_support_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#operation_maintenance_support_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>"
                                    + "<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div></div>");
                        });
                    });
                }
            },
            error: function (data) {
                alert("error:" + data);
            }
        });
    });
    //产品测试
    $("#linkname_10").click(function () {
        if ($("#current_link").val() <= 9) {
            return;
        }
        if ($("#batch_id").val() != "") {
            $.ajax({
                type: "POST",
                url: "selectProgramReviewInfo",
                data: {
                    "prod_id": getURLParameter("prod_id"),
                    "batch_id": $("#batch_id").val(),
                    "link_id": "10"
                }
            }).then(function (data) {
                $('#product_testing_note').val(data.review_opinion);
                $('#create_date').val(data.create_date);
                //如果附件编码不为空，开始取附件
                if (data.operation_support != "") {
                    $('#product_testing_related_id').val(data.operation_support);
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": data.operation_support
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#product_testing_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#product_testing_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>");
                            if (linknum < "30") {
                                $("#product_testing_fileList").append("<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                        + "<i class=\"fa fa-times\"></i></button></div>");
                            }
                            $("#product_testing_fileList").append("</div>");
                        });
                    });
                }
            });
        }
        $('#productTesting').modal('show');
    });
    //提交产品测试情况信息
    $("#submit10").click(function () {
        $.ajax({
            type: "POST",
            url: "demandSituation",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "10",
                "create_date": $('#create_date').val(),//用来判断此条数据是否已存在
                "review_opinion": $('#product_testing_note').val(),
                "operation_support": $('#product_testing_related_id').val()
            }
        }).then(function (data) {
            $("#batch_id").val(data.batch_id);
            $('#productTesting').modal('hide');
            $('#operationAlertInfo').modal('show');
        });
    });
    //业务平台建设情况附件添加和删除
    $("#product_testing_xFile").on("change", function (e) {
        //当没附件关联id时取值
        getRelatedId($('#product_testing_related_id'));
        //为了支持IE9浏览器，文件上传更新
        $("#product_testing_upload-form").ajaxSubmit({ //重点：使用ajaxSubmit()提交表单。
            url: "${pageContext.request.contextPath}/fileUpload",
            type: "post", //提交的类型必需是post，
            data: {related_id: $("#product_testing_related_id").val()},
            dateType: "json",
            success: function (data) {
                //如果提交成功执行
                //如果附件编码不为空，开始取附件
                if ($('#product_testing_related_id').val() != "") {
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": $('#product_testing_related_id').val()
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#product_testing_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#product_testing_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>"
                                    + "<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div></div>");
                        });
                    });
                }
            },
            error: function (data) {
                alert("error:" + data);
            }
        });
    });
    //产品验收
    $("#linkname_11").click(function () {
        if ($("#current_link").val() <= 10) {
            return;
        }
        $.ajax({
            type: "POST",
            url: "selectProgramReviewInfo",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "11"
            }
        }).then(function (data) {
            $('#main_depart_eleven').html(data.main_depart);
            $('#apply_person_eleven').html(data.apply_person);
            $('#apply_date_eleven').html(data.apply_date);
            $('#file_no_eleven').html(data.file_no);
            $('#file_title_eleven').html(data.file_title);
            $('#prod_name_eleven').html(data.prod_name);
            $('#link_id_eleven').html(data.link_id);
            $('#note_eleven').html(data.note);
            $('#create_date').val(data.create_date);
            if (data.colusion_opinion == "0") {
                $('#colusion_opinion_eleven').html("验收不通过");
            } else if (data.colusion_opinion == "1") {
                $('#colusion_opinion_eleven').html("验收通过");
            }
            $('#review_opinion_eleven').html(data.review_opinion);
            //如果附件编码不为空，开始取附件
            $.ajax({
                type: "POST",
                url: "uploadFileSelect",
                data: {
                    "related_id": data.accept_report
                }
            }).then(function (data) {
                //循环展现附件信息
                $("#accept_report_eleven_fileList div").remove();
                $.each(data, function (index, item) {
                    $("#accept_report_eleven_fileList").append("<div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "?oa_file=" + item.oa_file + "'>" + item.oa_file
                            + "</a></div>");
                });
            });
            //如果附件编码不为空，开始取附件
            $.ajax({
                type: "POST",
                url: "uploadFileSelect",
                data: {
                    "related_id": data.file_added
                }
            }).then(function (data) {
                //循环展现附件信息
                $("#file_added_eleven_fileList div").remove();
                $.each(data, function (index, item) {
                    $("#file_added_eleven_fileList").append("<div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "?oa_file=" + item.oa_file + "'>" + item.oa_file
                            + "</a></div>");
                });
            });
            //如果附件编码不为空，开始取附件
            $.ajax({
                type: "POST",
                url: "uploadFileSelect",
                data: {
                    "related_id": data.review_file_id
                }
            }).then(function (data) {
                //循环展现附件信息
                $("#review_file_id_eleven_fileList div").remove();
                $.each(data, function (index, item) {
                    $("#review_file_id_eleven_fileList").append("<div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "?oa_file=" + item.oa_file + "'>" + item.oa_file
                            + "</a></div>");
                });
            });
            //如果附件编码不为空，开始取附件
            if (data.annex != "") {
                $('#product_acceptance_related_id').val(data.annex);
                $.ajax({
                    type: "POST",
                    url: "uploadFileSelect",
                    data: {
                        "related_id": data.annex
                    }
                }).then(function (data) {
                    //循环展现附件信息
                    $("#product_acceptance_eleven_fileList div").remove();
                    $.each(data, function (index, item) {
                        $("#product_acceptance_eleven_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                + "</a></div>");
                        if (linknum < "30") {
                            $("#product_acceptance_eleven_fileList").append("<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div>");
                        }
                        $("#product_acceptance_eleven_fileList").append("</div>");
                    });
                });
            }
        });
        $('#productAcceptance').modal('show');
    });
    //提交产品验收信息
    $("#submit11").click(function () {
        if(lengthVerify($('#note_eleven'))) return; //判断字符内容是否超长
        $.ajax({
            type: "POST",
            url: "demandSituation",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "11",
                "create_date": $('#create_date').val(),//用来判断此条数据是否已存在
                "note": $('#note_eleven').val(),
                "annex": $('#product_acceptance_related_id').val()
            }
        }).then(function (data) {
            $("#batch_id").val(data.batch_id);
            $('#productAcceptance').modal('hide');
            $('#operationAlertInfo').modal('show');
        });
    });
    //产品验收附件添加和删除
    $("#product_acceptance_eleven_xFile").on("change", function (e) {
        //当没附件关联id时取值
        getRelatedId($('#product_acceptance_related_id'));
        //为了支持IE9浏览器，文件上传更新
        $("#product_acceptance_eleven_upload-form").ajaxSubmit({ //重点：使用ajaxSubmit()提交表单。
            url: "${pageContext.request.contextPath}/fileUpload",
            type: "post", //提交的类型必需是post，
            data: {related_id: $("#product_acceptance_related_id").val()},
            dateType: "json",
            success: function (data) {
                //如果提交成功执行
                //如果附件编码不为空，开始取附件
                if ($('#product_acceptance_related_id').val() != "") {
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": $('#product_acceptance_related_id').val()
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#product_acceptance_eleven_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#product_acceptance_eleven_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>"
                                    + "<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div></div>");
                        });
                    });
                }
            },
            error: function (data) {
                alert("error:" + data);
            }
        });
    });
    //产品资源匹配
    $("#linkname_12").click(function () {
        if ($("#current_link").val() <= 11) {
            return;
        }
        if ($("#batch_id").val() != "") {
            $.ajax({
                type: "POST",
                url: "selectProgramReviewInfo",
                data: {
                    "prod_id": getURLParameter("prod_id"),
                    "batch_id": $("#batch_id").val(),
                    "link_id": "12"
                }
            }).then(function (data) {
                $('#create_date').val(data.create_date);
                $('#resource_matching_note').val(data.review_opinion);
                //如果附件编码不为空，开始取附件
                if (data.operation_support != "") {
                    $('#resource_matching_related_id').val(data.operation_support);
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": data.operation_support
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#resource_matching_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#resource_matching_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>");
                            if (linknum < "30") {
                                $("#resource_matching_fileList").append("<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                        + "<i class=\"fa fa-times\"></i></button></div>");
                            }
                            $("#resource_matching_fileList").append("</div>");
                        });
                    });
                }
            });
        }
        $('#resourceMatching').modal('show');
    });
    //提交产品资源匹配信息
    $("#submit12").click(function () {
        $.ajax({
            type: "POST",
            url: "demandSituation",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "12",
                "create_date": $('#create_date').val(),//用来判断此条数据是否已存在
                "review_opinion": $('#resource_matching_note').val(),
                "operation_support": $('#resource_matching_related_id').val()
            }
        }).then(function (data) {
            $("#batch_id").val(data.batch_id);
            $('#resourceMatching').modal('hide');
            $('#operationAlertInfo').modal('show');
        });
    });
    //产品资源匹配添加和删除
    $("#resource_matching_xFile").on("change", function (e) {
        //当没附件关联id时取值
        getRelatedId($('#resource_matching_related_id'));
        //为了支持IE9浏览器，文件上传更新
        $("#resource_matching_upload-form").ajaxSubmit({ //重点：使用ajaxSubmit()提交表单。
            url: "${pageContext.request.contextPath}/fileUpload",
            type: "post", //提交的类型必需是post，
            data: {related_id: $("#resource_matching_related_id").val()},
            dateType: "json",
            success: function (data) {
                //如果提交成功执行
                //如果附件编码不为空，开始取附件
                if ($('#resource_matching_related_id').val() != "") {
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": $('#resource_matching_related_id').val()
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#resource_matching_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#resource_matching_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>"
                                    + "<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div></div>");
                        });
                    });
                }
            },
            error: function (data) {
                alert("error:" + data);
            }
        });
    });
    //渠道发展
    $("#linkname_13").click(function () {
        if ($("#current_link").val() <= 12) {
            return;
        }
        if ($("#batch_id").val() != "") {
            $.ajax({
                type: "POST",
                url: "selectProgramReviewInfo",
                data: {
                    "prod_id": getURLParameter("prod_id"),
                    "batch_id": $("#batch_id").val(),
                    "link_id": "13"
                }
            }).then(function (data) {
                $('#create_date').val(data.create_date);
                $('#channel_development_note').val(data.review_opinion);
                //如果附件编码不为空，开始取附件
                if (data.operation_support != "") {
                    $('#channel_development_related_id').val(data.operation_support);
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": data.operation_support
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#channel_development_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#channel_development_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>");
                            if (linknum < "30") {
                                $("#channel_development_fileList").append("<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                        + "<i class=\"fa fa-times\"></i></button></div></div>");
                            }
                            $("#channel_development_fileList").append("</div>");
                        });
                    });
                }
            });
        }
        $('#channelDevelopment').modal('show');
    });
    //提交渠道发展信息
    $("#submit13").click(function () {
        $.ajax({
            type: "POST",
            url: "demandSituation",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "13",
                "create_date": $('#create_date').val(),//用来判断此条数据是否已存在
                "review_opinion": $('#channel_development_note').val(),
                "operation_support": $('#channel_development_related_id').val()
            }
        }).then(function (data) {
            $("#batch_id").val(data.batch_id);
            $('#channelDevelopment').modal('hide');
            $('#operationAlertInfo').modal('show');
        });
    });
    //渠道发展附件添加和删除
    $("#channel_development_xFile").on("change", function (e) {
        //当没附件关联id时取值
        getRelatedId($('#channel_development_related_id'));
        //为了支持IE9浏览器，文件上传更新
        $("#channel_development_upload-form").ajaxSubmit({ //重点：使用ajaxSubmit()提交表单。
            url: "${pageContext.request.contextPath}/fileUpload",
            type: "post", //提交的类型必需是post，
            data: {related_id: $("#channel_development_related_id").val()},
            dateType: "json",
            success: function (data) {
                //如果提交成功执行
                //如果附件编码不为空，开始取附件
                if ($('#channel_development_related_id').val() != "") {
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": $('#channel_development_related_id').val()
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#channel_development_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#channel_development_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>"
                                    + "<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div></div>");
                        });
                    });
                }
            },
            error: function (data) {
                alert("error:" + data);
            }
        });
    });
    //产品上线发文
    $("#linkname_14").click(function () {
        if ($("#current_link").val() <= 13) {
            return;
        }
        if ($("#batch_id").val() != "") {
            $.ajax({
                type: "POST",
                url: "selectProgramReviewInfo",
                data: {
                    "prod_id": getURLParameter("prod_id"),
                    "batch_id": $("#batch_id").val(),
                    "link_id": "14"
                }
            }).then(function (data) {
                $('#create_date').val(data.create_date);
                $('#online_issued_note').val(data.review_opinion);
                //如果附件编码不为空，开始取附件
                if (data.online_document != "") {
                    $('#online_issued_related_id').val(data.online_document);
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": data.online_document
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#online_issued_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#online_issued_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>");
                            if (linknum < "30") {
                                $("#online_issued_fileList").append("<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                        + "<i class=\"fa fa-times\"></i></button></div>");
                            }
                            $("#online_issued_fileList").append("</div>");
                        });
                    });
                }
            });
        }
        $('#onlineIssued').modal('show');
    });
    //提交产品上线发文
    $("#submit14").click(function () {
        $.ajax({
            type: "POST",
            url: "demandSituation",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "14",
                "create_date": $('#create_date').val(),//用来判断此条数据是否已存在
                "review_opinion": $('#online_issued_note').val(),
                "online_document": $('#online_issued_related_id').val()
            }
        }).then(function (data) {
            $("#batch_id").val(data.batch_id);
            $('#onlineIssued').modal('hide');
            $('#operationAlertInfo').modal('show');
        });
    });

    //产品上线发文附件添加和删除
    $("#online_issued_xFile").on("change", function (e) {
        //当没附件关联id时取值
        getRelatedId($('#online_issued_related_id'));
        //为了支持IE9浏览器，文件上传更新
        $("#online_issued_upload-form").ajaxSubmit({ //重点：使用ajaxSubmit()提交表单。
            url: "${pageContext.request.contextPath}/fileUpload",
            type: "post", //提交的类型必需是post，
            data: {related_id: $("#online_issued_related_id").val()},
            dateType: "json",
            success: function (data) {
                //如果提交成功执行
                //如果附件编码不为空，开始取附件
                if ($('#online_issued_related_id').val() != "") {
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": $('#online_issued_related_id').val()
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#online_issued_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#online_issued_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>"
                                    + "<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div></div>");
                        });
                    });
                }
            },
            error: function (data) {
                alert("error:" + data);
            }
        });
    });
    //工作日志文档
    $("#linkname_15").click(function () {
        if ($("#current_link").val() <= 14) {
            return;
        }
        if ($("#batch_id").val() != "") {
            $.ajax({
                type: "POST",
                url: "selectProgramReviewInfo",
                data: {
                    "prod_id": getURLParameter("prod_id"),
                    "batch_id": $("#batch_id").val(),
                    "link_id": "15"
                }
            }).then(function (data) {
                $('#create_date').val(data.create_date);
                $('#log_document_note').val(data.review_opinion);
                //如果附件编码不为空，开始取附件
                if (data.work_log != "") {
                    $('#log_document_related_id').val(data.work_log);
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": data.work_log
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#log_document_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#log_document_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>");
                            if (linknum < "30") {
                                $("#log_document_fileList").append("<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                        + "<i class=\"fa fa-times\"></i></button></div>");
                            }
                            $("#log_document_fileList").append("</div>");
                        });
                    });
                }
            });
        }
        $('#logDocument').modal('show');
    });
    //提交工作日志文档
    $("#submit15").click(function () {
        $.ajax({
            type: "POST",
            url: "demandSituation",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "15",
                "create_date": $('#create_date').val(),//用来判断此条数据是否已存在
                "review_opinion": $('#log_document_note').val(),
                "work_log": $('#log_document_related_id').val()
            }
        }).then(function (data) {
            $("#batch_id").val(data.batch_id);
            $('#logDocument').modal('hide');
            $('#operationAlertInfo').modal('show');
        });
    });

    //工作日志文档附件添加和删除
    $("#log_document_xFile").on("change", function (e) {
        //当没附件关联id时取值
        getRelatedId($('#log_document_related_id'));
        //为了支持IE9浏览器，文件上传更新
        $("#log_document_upload-form").ajaxSubmit({ //重点：使用ajaxSubmit()提交表单。
            url: "${pageContext.request.contextPath}/fileUpload",
            type: "post", //提交的类型必需是post，
            data: {related_id: $("#log_document_related_id").val()},
            dateType: "json",
            success: function (data) {
                //如果提交成功执行
                //如果附件编码不为空，开始取附件
                if ($('#log_document_related_id').val() != "") {
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": $('#log_document_related_id').val()
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#log_document_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#log_document_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>"
                                    + "<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div></div>");
                        });
                    });
                }
            },
            error: function (data) {
                alert("error:" + data);
            }
        });
    });
    //工作量核定结果
    $("#chooselinkname_16").click(function () {
        if ($("#current_link").val() <= 15) {
            return;
        }
        $.ajax({
            type: "POST",
            url: "selectProgramReviewInfo",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "16"
            }
        }).then(function (data) {
            $('#main_depart_sixteen').html(data.main_depart);
            $('#apply_person_sixteen').html(data.apply_person);
            $('#apply_date_sixteen').html(data.apply_date);
            $('#file_no_sixteen').html(data.file_no);
            $('#file_title_sixteen').html(data.file_title);
            $('#prod_name_sixteen').html(data.prod_name);
            $('#link_id_sixteen').html(data.link_id);
            $('#approved_results_sixteen').val(data.approved_results);
            $('#note_sixteen').html(data.note);
            $('#create_date').val(data.create_date);
            //如果附件编码不为空，开始取附件
            $.ajax({
                type: "POST",
                url: "uploadFileSelect",
                data: {
                    "related_id": data.work_load
                }
            }).then(function (data) {
                //循环展现附件信息
                $("#work_load_sixteen_fileList div").remove();
                $.each(data, function (index, item) {
                    $("#work_load_sixteen_fileList").append("<div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "?oa_file=" + item.oa_file + "'>" + item.oa_file
                            + "</a></div>");
                });
            });
            $.ajax({
                type: "POST",
                url: "uploadFileSelect",
                data: {
                    "related_id": data.review_file_id
                }
            }).then(function (data) {
                //循环展现附件信息
                $("#review_file_id_sixteen_fileList div").remove();
                $.each(data, function (index, item) {
                    $("#review_file_id_sixteen_fileList").append("<div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "?oa_file=" + item.oa_file + "'>" + item.oa_file
                            + "</a></div>");
                });
            });
            //如果附件编码不为空，开始取附件
            if (data.annex != "") {
                $('#work_approved_related_id').val(data.annex);
                $.ajax({
                    type: "POST",
                    url: "uploadFileSelect",
                    data: {
                        "related_id": data.annex
                    }
                }).then(function (data) {
                    //循环展现附件信息
                    $("#work_approved_sixteen_fileList div").remove();
                    $.each(data, function (index, item) {
                        $("#work_approved_sixteen_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                + "</a></div>");
                        if (linknum < "30") {
                            $("#work_approved_sixteen_fileList").append("<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div>");
                        }
                        $("#work_approved_sixteen_fileList").append("</div>");
                    });
                });
            }
        });
        $('#workApproved').modal('show');
    });
    //提交工作量核定结果信息
    $("#submit16").click(function () {
        if(lengthVerify($('#note_sixteen'))) return; //判断字符内容是否超长
        $.ajax({
            type: "POST",
            url: "demandSituation",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "16",
                "create_date": $('#create_date').val(),//用来判断此条数据是否已存在
                "note": $('#note_sixteen').val(),
                "annex": $('#work_approved_related_id').val()
            }
        }).then(function (data) {
            $("#batch_id").val(data.batch_id);
            $('#workApproved').modal('hide');
            $('#operationAlertInfo').modal('show');
        });
    });
    //工作量核定结果附件添加和删除
    $("#work_approved_sixteen_xFile").on("change", function (e) {
        //当没附件关联id时取值
        getRelatedId($('#work_approved_related_id'));
        //为了支持IE9浏览器，文件上传更新
        $("#work_approved_sixteen_upload-form").ajaxSubmit({ //重点：使用ajaxSubmit()提交表单。
            url: "${pageContext.request.contextPath}/fileUpload",
            type: "post", //提交的类型必需是post，
            data: {related_id: $("#work_approved_related_id").val()},
            dateType: "json",
            success: function (data) {
                //如果提交成功执行
                //如果附件编码不为空，开始取附件
                if ($('#work_approved_related_id').val() != "") {
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": $('#work_approved_related_id').val()
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#work_approved_sixteen_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#work_approved_sixteen_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>"
                                    + "<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div></div>");
                        });
                    });
                }
            },
            error: function (data) {
                alert("error:" + data);
            }
        });
    });
    //维护结算单
    $("#chooselinkname_17").click(function () {
        if ($("#current_link").val() <= 16) {
            return;
        }
        $.ajax({
            type: "POST",
            url: "selectProgramReviewInfo",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "17"
            }
        }).then(function (data) {
            $('#frame_name_seventeen').html(data.frame_name);
            $('#frame_date_seventeen').html(data.frame_date);
            $('#upper_amount_seventeen').html(data.upper_amount);
            $('#sign_amount_seventeen').html(data.sign_amount);
            $('#current_amount_seventeen').html(data.current_amount);
            $('#purchase_name_seventeen').html(data.purchase_name);
            $('#contract_type_seventeen').html(data.contract_type);
            $('#fram_contract_term_seventeen').html(data.fram_contract_term);
            $('#supplier_name_seventeen').html(data.supplier_name);
            $('#legal_rep_seventeen').html(data.legal_rep);
            $('#tax_num_seventeen').html(data.tax_num);
            $('#contract_person_seventeen').html(data.contract_person);
            $('#contract_phone_seventeen').html(data.contract_phone);
            $('#account_no_seventeen').html(data.account_no);
            $('#account_name_seventeen').html(data.account_name);
            $('#draft_person_seventeen').html(data.draft_person);
            $('#draft_part_seventeen').html(data.draft_part);
            $('#settle_name_seventeen').html(data.settle_name);
            $('#settle_date_seventeen').html(data.settle_date);
            $('#settle_cycle_seventeen').html(data.settle_cycle);
            $('#note_seventeen').html(data.note);
            $('#create_date').val(data.create_date);
            //如果附件编码不为空，开始取附件
            $.ajax({
                type: "POST",
                url: "uploadFileSelect",
                data: {
                    "related_id": data.contract_rel
                }
            }).then(function (data) {
                //循环展现附件信息
                $("#contract_rel_seventeen_fileList div").remove();
                $.each(data, function (index, item) {
                    $("#contract_rel_seventeen_fileList").append("<div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "?oa_file=" + item.oa_file + "'>" + item.oa_file
                            + "</a></div>");
                });
            });
            //如果附件编码不为空，开始取附件
            if (data.annex != "") {
                $('#maintenance_settlement_related_id').val(data.annex);
                $.ajax({
                    type: "POST",
                    url: "uploadFileSelect",
                    data: {
                        "related_id": data.annex
                    }
                }).then(function (data) {
                    //循环展现附件信息
                    $("#maintenance_settlement_seventeen_fileList div").remove();
                    $.each(data, function (index, item) {
                        $("#maintenance_settlement_seventeen_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                + "</a></div>");
                        if (linknum < "30") {
                            $("#maintenance_settlement_seventeen_fileList").append("<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div></div>");
                        }
                        $("#maintenance_settlement_seventeen_fileList").append("</div>");
                    });
                });
            }
        });
        $('#maintenanceSettlement').modal('show');
    });
    //提交维护结算单信息
    $("#submit17").click(function () {
        if(lengthVerify($('#note_seventeen'))) return; //判断字符内容是否超长
        $.ajax({
            type: "POST",
            url: "demandSituation",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "17",
                "create_date": $('#create_date').val(),//用来判断此条数据是否已存在
                "note": $('#note_seventeen').val(),
                "annex": $('#maintenance_settlement_related_id').val()
            }
        }).then(function (data) {
            $("#batch_id").val(data.batch_id);
            $('#maintenanceSettlement').modal('hide');
            $('#operationAlertInfo').modal('show');
        });
    });
    //维护结算单附件添加和删除
    $("#maintenance_settlement_seventeen_xFile").on("change", function (e) {
        //当没附件关联id时取值
        getRelatedId($('#maintenance_settlement_related_id'));
        //为了支持IE9浏览器，文件上传更新
        $("#maintenance_settlement_seventeen_upload-form").ajaxSubmit({ //重点：使用ajaxSubmit()提交表单。
            url: "${pageContext.request.contextPath}/fileUpload",
            type: "post", //提交的类型必需是post，
            data: {related_id: $("#maintenance_settlement_related_id").val()},
            dateType: "json",
            success: function (data) {
                //如果提交成功执行
                //如果附件编码不为空，开始取附件
                if ($('#maintenance_settlement_related_id').val() != "") {
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": $('#maintenance_settlement_related_id').val()
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#maintenance_settlement_seventeen_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#maintenance_settlement_seventeen_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>"
                                    + "<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div></div>");
                        });
                    });
                }
            },
            error: function (data) {
                alert("error:" + data);
            }
        });
    });
    //订单
    $("#chooselinkname_18").click(function () {
        if ($("#current_link").val() <= 16) {
            return;
        }
        $.ajax({
            type: "POST",
            url: "selectProgramReviewInfo",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "18"
            }
        }).then(function (data) {
            $('#frame_name_eighteen').html(data.frame_name);
            $('#frame_date_eighteen').html(data.frame_date);
            $('#upper_amount_eighteen').html(data.upper_amount);
            $('#sign_amount_eighteen').html(data.sign_amount);
            $('#current_amount_eighteen').html(data.current_amount);
            $('#purchase_name_eighteen').html(data.purchase_name);
            $('#contract_type_eighteen').html(data.contract_type);
            $('#fram_contract_term_eighteen').val(data.fram_contract_term);
            $('#supplier_name_eighteen').html(data.supplier_name);
            $('#legal_rep_eighteen').html(data.legal_rep);
            $('#tax_num_eighteen').html(data.tax_num);
            $('#contract_person_eighteen').html(data.contract_person);
            $('#contract_phone_eighteen').html(data.contract_phone);
            $('#account_no_eighteen').html(data.account_no);
            $('#account_name_eighteen').html(data.account_name);
            $('#draft_person_eighteen').html(data.draft_person);
            $('#draft_part_eighteen').html(data.draft_part);
            $('#sign_date_eighteen').html(data.sign_date);
            $('#commit_term_eighteen').html(data.commit_term);
            $('#note_eighteen').html(data.note);
            $('#create_date').val(data.create_date);
            //如果附件编码不为空，开始取附件
            $.ajax({
                type: "POST",
                url: "uploadFileSelect",
                data: {
                    "related_id": data.contract_rel
                }
            }).then(function (data) {
                //循环展现附件信息
                $("#contract_rel_eighteen_fileList div").remove();
                $.each(data, function (index, item) {
                    $("#contract_rel_eighteen_fileList").append("<div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "?oa_file=" + item.oa_file + "'>" + item.oa_file
                            + "</a></div>");
                });
            });
            //如果附件编码不为空，开始取附件
            if (data.annex != "") {
                $('#order_product_related_id').val(data.annex);
                $.ajax({
                    type: "POST",
                    url: "uploadFileSelect",
                    data: {
                        "related_id": data.annex
                    }
                }).then(function (data) {
                    //循环展现附件信息
                    $("#order_product_eighteen_fileList div").remove();
                    $.each(data, function (index, item) {
                        $("#order_product_eighteen_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                + "</a></div>");
                        if (linknum < "30") {
                            $("#order_product_eighteen_fileList").append("<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div>");
                        }
                        $("#order_product_eighteen_fileList").append("<div");
                    });
                });
            }
        });
        $('#orderProduct').modal('show');
    });
    //提交订单信息
    $("#submit18").click(function () {
        if(lengthVerify($('#note_eighteen'))) return; //判断字符内容是否超长
        $.ajax({
            type: "POST",
            url: "demandSituation",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "18",
                "create_date": $('#create_date').val(),//用来判断此条数据是否已存在
                "note": $('#note_eighteen').val(),
                "annex": $('#order_product_related_id').val()
            }
        }).then(function (data) {
            $("#batch_id").val(data.batch_id);
            $('#orderProduct').modal('hide');
            $('#operationAlertInfo').modal('show');
        });
    });
    //订单附件添加和删除
    $("#order_product_eighteen_xFile").on("change", function (e) {
        //当没附件关联id时取值
        getRelatedId($('#order_product_related_id'));
        //为了支持IE9浏览器，文件上传更新
        $("#order_product_eighteen_upload-form").ajaxSubmit({ //重点：使用ajaxSubmit()提交表单。
            url: "${pageContext.request.contextPath}/fileUpload",
            type: "post", //提交的类型必需是post，
            data: {related_id: $("#order_product_related_id").val()},
            dateType: "json",
            success: function (data) {
                //如果提交成功执行
                //如果附件编码不为空，开始取附件
                if ($('#order_product_related_id').val() != "") {
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": $('#order_product_related_id').val()
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#order_product_eighteen_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#order_product_eighteen_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>"
                                    + "<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div></div>");
                        });
                    });
                }
            },
            error: function (data) {
                alert("error:" + data);
            }
        });
    });
    //支撑方技术服务考核结果
    $("#chooselinkname_19").click(function () {
        /*if ($('#chooselinkname_19').attr("style") != undefined) {
         return;
         }*/
        if ($("#current_link").val() <= 16) {
            return;
        }
        $.ajax({
            type: "POST",
            url: "selectProgramReviewInfo",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "19"
            }
        }).then(function (data) {
            $('#main_depart_nineteen').html(data.main_depart);
            $('#apply_person_nineteen').html(data.apply_person);
            $('#apply_date_nineteen').html(data.apply_date);
            $('#file_no_nineteen').html(data.file_no);
            $('#file_title_nineteen').html(data.file_title);
            $('#prod_name_nineteen').html(data.prod_name);
            $('#link_id_nineteen').html(data.link_id);
            if (data.colusion_opinion == "0") {
                $('#colusion_opinion_nineteen').html("不同意");
            } else if (data.colusion_opinion == "1") {
                $('#colusion_opinion_nineteen').html("同意");
            }
            $('#ass_points_nineteen').html(data.ass_points);
            $('#note_nineteen').html(data.note);
            $('#create_date').val(data.create_date);
            //如果附件编码不为空，开始取附件
            $.ajax({
                type: "POST",
                url: "uploadFileSelect",
                data: {
                    "related_id": data.si_material
                }
            }).then(function (data) {
                //循环展现附件信息
                $("#work_log_nineteen_fileList div").remove();
                $.each(data, function (index, item) {
                    $("#work_log_nineteen_fileList").append("<div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "?oa_file=" + item.oa_file + "'>" + item.oa_file
                            + "</a></div>");
                });
            });
            $.ajax({
                type: "POST",
                url: "uploadFileSelect",
                data: {
                    "related_id": data.review_file_id
                }
            }).then(function (data) {
                //循环展现附件信息
                $("#review_file_id_nineteen_fileList div").remove();
                $.each(data, function (index, item) {
                    $("#review_file_id_nineteen_fileList").append("<div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "?oa_file=" + item.oa_file + "'>" + item.oa_file
                            + "</a></div>");
                });
            });
            //如果附件编码不为空，开始取附件
            if (data.annex != "") {
                $('#service_assessment_related_id').val(data.annex);
                $.ajax({
                    type: "POST",
                    url: "uploadFileSelect",
                    data: {
                        "related_id": data.annex
                    }
                }).then(function (data) {
                    //循环展现附件信息
                    $("#service_assessment_nineteen_fileList div").remove();
                    $.each(data, function (index, item) {
                        $("#service_assessment_nineteen_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                + "</a></div>");
                        if (linknum < "30") {
                            $("#service_assessment_nineteen_fileList").append("<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div>");
                        }
                        $("#service_assessment_nineteen_fileList").append("</div>");
                    });
                });
            }
        });
        $('#serviceAssessment').modal('show');
    });
    //提交支撑方技术服务考核结果信息
    $("#submit19").click(function () {
        if(lengthVerify($('#note_nineteen'))) return; //判断字符内容是否超长
        $.ajax({
            type: "POST",
            url: "demandSituation",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "19",
                "create_date": $('#create_date').val(),//用来判断此条数据是否已存在
                "note": $('#note_nineteen').val(),
                "annex": $('#service_assessment_related_id').val()
            }
        }).then(function (data) {
            $("#batch_id").val(data.batch_id);
            $('#serviceAssessment').modal('hide');
            $('#operationAlertInfo').modal('show');
        });
    });
    //支撑方技术服务考核结果附件添加和删除
    $("#service_assessment_nineteen_xFile").on("change", function (e) {
        //当没附件关联id时取值
        getRelatedId($('#service_assessment_related_id'));
        //为了支持IE9浏览器，文件上传更新
        $("#service_assessment_nineteen_upload-form").ajaxSubmit({ //重点：使用ajaxSubmit()提交表单。
            url: "${pageContext.request.contextPath}/fileUpload",
            type: "post", //提交的类型必需是post，
            data: {related_id: $("#service_assessment_related_id").val()},
            dateType: "json",
            success: function (data) {
                //如果提交成功执行
                //如果附件编码不为空，开始取附件
                if ($('#service_assessment_related_id').val() != "") {
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": $('#service_assessment_related_id').val()
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#service_assessment_nineteen_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#service_assessment_nineteen_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>"
                                    + "<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div></div>");
                        });
                    });
                }
            },
            error: function (data) {
                alert("error:" + data);
            }
        });
    });
    //投诉信息
    var complaintnums;
    $("#chooselinkname_20").click(function(){
        //查询是否有投诉信息
        $.ajax({
            type: "POST",
            url: "selectProductComplaints",
            data: {
                "prod_id": getURLParameter("prod_id")
            }
        }).then(function (data) {
            //返回查询结果后，将之前的查询结果列表数据清除
            var num = $("#complaint_table tr").filter("#ledtr").size();//获得表格行数
            //移除表格数据重新加载
            for (var i = 0; i < num; i++) {
                $("#ledtr").remove();//移除表格数据重新加载
            }
            complaintnums=new Array()
            //获值成功后往表格增加显示结果
            $.each(data, function (index, item) {
                $("#complaint_table").append("<tr id='ledtr'><td align=\"center\">"
                        + (index + 1) + ".</td><td align='right'>" + item.order_no + "</td><td>" + item.comp_phone + "</td><td>" + item.grp_meb_type + "</td><td>" + item.group_name + "</td><td>" + item.accept_time + "</td><td><a class='badge bg-red' onclick=showComplaintInfo('"+index+"')>查看</a></td></tr>");
                complaintnums[index]=item.buss_content;
            });
            if(data.length>0){$('#complaintInformation').modal('show');}
        });
    });
    function showComplaintInfo(index){
        $("#note_complaint").val(complaintnums[index]);
        $('#complaintDetailsInformation').modal('show');
    }
    //框架合同签订
    $("#chooselinkname_21").click(function () {
        if ($("#current_link").val() <= 16) {
            return;
        }
        $.ajax({
            type: "POST",
            url: "selectProgramReviewInfo",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "21"
            }
        }).then(function (data) {
            $('#main_depart_twentyOne').html(data.main_depart);
            $('#apply_person_twentyOne').html(data.apply_person);
            $('#apply_date_twentyOne').html(data.apply_date);
            $('#contract_id_twentyOne').html(data.contract_id);
            $('#contract_name_twentyOne').html(data.contract_name);
            $('#contract_type_twentyOne').html(data.contract_type);
            $('#contract_amount_twentyOne').html(data.contract_amount);
            $('#contract_term_twentyOne').html(data.contract_term);
            $('#supplier_name_twentyOne').html(data.supplier_name);
            $('#legal_rep_twentyOne').html(data.legal_rep);
            $('#tax_num_twentyOne').html(data.tax_num);
            $('#contract_person_twentyOne').html(data.contract_person);
            $('#contract_phone_twentyOne').html(data.contract_phone);
            $('#account_no_twentyOne').html(data.account_no);
            $('#account_name_twentyOne').html(data.account_name);
            $('#note_twentyOne').html(data.note);
            $('#create_date').val(data.create_date);
            if(data.cons_situation!=""){$('#cons_situation_twentyOne').val(data.cons_situation);}
            //如果附件编码不为空，开始取附件
            $.ajax({
                type: "POST",
                url: "uploadFileSelect",
                data: {
                    "related_id": data.contract_rel
                }
            }).then(function (data) {
                //循环展现附件信息
                $("#contract_rel_twentyOne_fileList div").remove();
                $.each(data, function (index, item) {
                    $("#contract_rel_twentyOne_fileList").append("<div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "?oa_file=" + item.oa_file + "'>" + item.oa_file
                            + "</a></div>");
                });
            });
            //如果附件编码不为空，开始取附件
            if (data.annex != "") {
                $('#framework_contract_related_id').val(data.annex);
                $.ajax({
                    type: "POST",
                    url: "uploadFileSelect",
                    data: {
                        "related_id": data.annex
                    }
                }).then(function (data) {
                    //循环展现附件信息
                    $("#framework_contract_twentyOne_fileList div").remove();
                    $.each(data, function (index, item) {
                        $("#framework_contract_twentyOne_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                + "</a></div>");
                        if (linknum < "30") {
                            $("#framework_contract_twentyOne_fileList").append("<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div>");
                        }
                        $("#framework_contract_twentyOne_fileList").append("</div>");
                    });
                });
            }
        });
        $('#frameworkContract').modal('show');
    });
    //提交框架合同签订信息
    $("#submit21").click(function () {
        if(lengthVerify($('#note_twentyOne'))) return; //判断字符内容是否超长
        $.ajax({
            type: "POST",
            url: "demandSituation",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "21",
                "create_date": $('#create_date').val(),//用来判断此条数据是否已存在
                "note": $('#note_twentyOne').val(),
                "cons_situation":$('#cons_situation_twentyOne').val(),
                "annex": $('#framework_contract_related_id').val()
            }
        }).then(function (data) {
            $("#batch_id").val(data.batch_id);
            $('#frameworkContract').modal('hide');
            $('#operationAlertInfo').modal('show');
        });
    });
    //框架合同签订附件添加和删除
    $("#framework_contract_twentyOne_xFile").on("change", function (e) {
        //当没附件关联id时取值
        getRelatedId($('#framework_contract_related_id'));
        //为了支持IE9浏览器，文件上传更新
        $("#framework_contract_twentyOne_upload-form").ajaxSubmit({ //重点：使用ajaxSubmit()提交表单。
            url: "${pageContext.request.contextPath}/fileUpload",
            type: "post", //提交的类型必需是post，
            data: {related_id: $("#framework_contract_related_id").val()},
            dateType: "json",
            success: function (data) {
                //如果提交成功执行
                //如果附件编码不为空，开始取附件
                if ($('#framework_contract_related_id').val() != "") {
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": $('#framework_contract_related_id').val()
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#framework_contract_twentyOne_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#framework_contract_twentyOne_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>"
                                    + "<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div></div>");
                        });
                    });
                }
            },
            error: function (data) {
                alert("error:" + data);
            }
        });
    });
    //运维结算
    $("#chooselinkname_23").click(function () {
        if ($("#current_link").val() <= 16) {
            return;
        }
        if ($("#batch_id").val() != "") {
            $.ajax({
                type: "POST",
                url: "selectProgramReviewInfo",
                data: {
                    "prod_id": getURLParameter("prod_id"),
                    "batch_id": $("#batch_id").val(),
                    "link_id": "23"
                }
            }).then(function (data) {
                $('#create_date').val(data.create_date);
                $('#note_twentyThree').val(data.note);
                //如果附件编码不为空，开始取附件
                if (data.operation_support != "") {
                    $('#operation_settlement_related_id').val(data.operation_support);
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": data.operation_support
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#operation_support_twentyThree_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#operation_support_twentyThree_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>");
                            if (linknum < "30") {
                                $("#operation_support_twentyThree_fileList").append("<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                        + "<i class=\"fa fa-times\"></i></button></div>");
                            }
                            $("#operation_support_twentyThree_fileList").append("</div>");
                        });
                    });
                }
            });
        }
        $('#operationSettlement').modal('show');
    });
    //提交运维结算信息
    $("#submit23").click(function () {
        $.ajax({
            type: "POST",
            url: "demandSituation",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "23",
                "create_date": $('#create_date').val(),//用来判断此条数据是否已存在
                "note":$('#note_twentyThree').val(),
                "operation_support": $('#operation_settlement_related_id').val()
            }
        }).then(function (data) {
            $("#batch_id").val(data.batch_id);
            $('#operationSettlement').modal('hide');
            $('#operationAlertInfo').modal('show');
        });
    });

    //运维结算附件添加和删除
    $("#operation_support_twentyThree_xFile").on("change", function (e) {
        //当没附件关联id时取值
        getRelatedId($('#operation_settlement_related_id'));
        //为了支持IE9浏览器，文件上传更新
        $("#operation_support_twentyThree_upload-form").ajaxSubmit({ //重点：使用ajaxSubmit()提交表单。
            url: "${pageContext.request.contextPath}/fileUpload",
            type: "post", //提交的类型必需是post，
            data: {related_id: $("#operation_settlement_related_id").val()},
            dateType: "json",
            success: function (data) {
                //如果提交成功执行
                //如果附件编码不为空，开始取附件
                if ($('#operation_settlement_related_id').val() != "") {
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": $('#operation_settlement_related_id').val()
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#operation_support_twentyThree_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#operation_support_twentyThree_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>"
                                    + "<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div></div>");
                        });
                    });
                }
            },
            error: function (data) {
                alert("error:" + data);
            }
        });
    });
    //报账信息25
    $("#chooselinkname_25").click(function () {
        if ($("#current_link").val() <= 16) {
            return;
        }
        $.ajax({
            type: "POST",
            url: "selectProgramReviewInfo",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "25"
            }
        }).then(function (data) {
            $('#main_depart_twentyFive').html(data.main_depart);
            $('#apply_person_twentyFive').html(data.apply_person);
            $('#supplier_id_twentyFive').html(data.supplier_id);
            $('#account_no_twentyFive').html(data.account_no);
            $('#unit_account_twentyFive').html(data.unit_account);
            $('#contract_name_twentyFive').html(data.contract_name);
            $('#price_twentyFive').html(data.price);
            $('#tax_twentyFive').html(data.tax);
            $('#this_price_twentyFive').html(data.this_price);
            $('#this_tax_twentyFive').html(data.this_tax);
            $('#note_twentyFive').html(data.note);
            $('#create_date').val(data.create_date);
            //如果附件编码不为空，开始取附件
            if (data.annex != "") {
                $('#reimbursement_information_related_id').val(data.annex);
                $.ajax({
                    type: "POST",
                    url: "uploadFileSelect",
                    data: {
                        "related_id": data.annex
                    }
                }).then(function (data) {
                    //循环展现附件信息
                    $("#reimbursement_information_twentyFive_fileList div").remove();
                    $.each(data, function (index, item) {
                        $("#reimbursement_information_twentyFive_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                + "</a></div>");
                        if (linknum < "30") {
                            $("#reimbursement_information_twentyFive_fileList").append("<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div>");
                        }
                        $("#reimbursement_information_twentyFive_fileList").append("</div>");
                    });
                });
            }
        });
        $('#reimbursementInformation').modal('show');
    });
    //提交报账信息信息
    $("#submit25").click(function () {
        if(lengthVerify($('#note_twentyFive'))) return; //判断字符内容是否超长
        $.ajax({
            type: "POST",
            url: "demandSituation",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "25",
                "create_date": $('#create_date').val(),//用来判断此条数据是否已存在
                "note": $('#note_twentyFive').val(),
                "annex": $('#reimbursement_information_related_id').val()
            }
        }).then(function (data) {
            $("#batch_id").val(data.batch_id);
            $('#reimbursementInformation').modal('hide');
            $('#operationAlertInfo').modal('show');
        });
    });
    //报账信息附件添加和删除
    $("#reimbursement_information_twentyFive_xFile").on("change", function (e) {
        //当没附件关联id时取值
        getRelatedId($('#reimbursement_information_related_id'));
        //为了支持IE9浏览器，文件上传更新
        $("#reimbursement_information_twentyFive_upload-form").ajaxSubmit({ //重点：使用ajaxSubmit()提交表单。
            url: "${pageContext.request.contextPath}/fileUpload",
            type: "post", //提交的类型必需是post，
            data: {related_id: $("#reimbursement_information_related_id").val()},
            dateType: "json",
            success: function (data) {
                //如果提交成功执行
                //如果附件编码不为空，开始取附件
                if ($('#reimbursement_information_related_id').val() != "") {
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": $('#reimbursement_information_related_id').val()
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#reimbursement_information_twentyFive_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#reimbursement_information_twentyFive_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>"
                                    + "<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div></div>");
                        });
                    });
                }
            },
            error: function (data) {
                alert("error:" + data);
            }
        });
    });
    //产品发展稽核26
    $("#linkname_26").click(function () {
        if ($("#current_link").val() <= 16) {
            return;
        }
        if ($("#batch_id").val() != "") {
            $.ajax({
                type: "POST",
                url: "selectProgramReviewInfo",
                data: {
                    "prod_id": getURLParameter("prod_id"),
                    "batch_id": $("#batch_id").val(),
                    "link_id": "26"
                }
            }).then(function (data) {
                $('#create_date').val(data.create_date);
                $('#development_audit_note').val(data.review_opinion);
                //如果附件编码不为空，开始取附件
                if (data.prod_plan != "") {
                    $('#development_audit_related_id').val(data.prod_plan);
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": data.prod_plan
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#development_audit_twentySix_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#development_audit_twentySix_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>");
                            if (linknum < "30") {
                                $("#development_audit_twentySix_fileList").append("<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                        + "<i class=\"fa fa-times\"></i></button></div>");
                            }
                            $("#development_audit_twentySix_fileList").append("</div>");
                        });
                    });
                }
            });
        }
        $('#developmentAudit').modal('show');
    });
    //提交产品发展稽核信息
    $("#submit26").click(function () {
        if(lengthVerify($('#development_audit_note'))) return; //判断字符内容是否超长
        $.ajax({
            type: "POST",
            url: "demandSituation",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "26",
                "create_date": $('#create_date').val(),//用来判断此条数据是否已存在
                "review_opinion": $('#development_audit_note').val(),
                "prod_plan": $('#development_audit_related_id').val()
            }
        }).then(function (data) {
            $("#batch_id").val(data.batch_id);
            $('#developmentAudit').modal('hide');
            $('#operationAlertInfo').modal('show');
        });
    });

    //产品发展稽核附件添加和删除
    $("#development_audit_twentySix_xFile").on("change", function (e) {
        //当没附件关联id时取值
        getRelatedId($('#development_audit_related_id'));
        //为了支持IE9浏览器，文件上传更新
        $("#development_audit_twentySix_upload-form").ajaxSubmit({ //重点：使用ajaxSubmit()提交表单。
            url: "${pageContext.request.contextPath}/fileUpload",
            type: "post", //提交的类型必需是post，
            data: {related_id: $("#development_audit_related_id").val()},
            dateType: "json",
            success: function (data) {
                //如果提交成功执行
                //如果附件编码不为空，开始取附件
                if ($('#development_audit_related_id').val() != "") {
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": $('#development_audit_related_id').val()
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#development_audit_twentySix_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#development_audit_twentySix_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>"
                                    + "<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div></div>");
                        });
                    });
                }
            },
            error: function (data) {
                alert("error:" + data);
            }
        });
    });
    //产品后评估打分结果27
    $("#linkname_27").click(function () {
        if ($("#current_link").val() <= 26) {
            return;
        }
        $.ajax({
            type: "POST",
            url: "selectProgramReviewInfo",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "27"
            }
        }).then(function (data) {
            $('#main_depart_twentySeven').html(data.main_depart);
            $('#apply_person_twentySeven').html(data.apply_person);
            $('#apply_date_twentySeven').html(data.apply_date);
            $('#file_no_twentySeven').html(data.file_no);
            $('#file_title_twentySeven').html(data.file_title);
            $('#prod_name_twentySeven').html(data.prod_name);
            $('#link_id_twentySeven').html(data.link_id);
            if (data.approved_results == "0") {
                $('#colusion_opinion_twentySeven').html("产品下线");
            } else if (data.approved_results == "1") {
                $('#colusion_opinion_twentySeven').html("产品保留");
            }
            $('#ass_points_twentySeven').html(data.ass_points);
            $('#note_twentySeven').html(data.note);
            $('#create_date').val(data.create_date);
            //如果附件编码不为空，开始取附件
            $.ajax({
                type: "POST",
                url: "uploadFileSelect",
                data: {
                    "related_id": data.prod_ass
                }
            }).then(function (data) {
                //循环展现附件信息
                $("#prod_ass_twentySeven_fileList div").remove();
                $.each(data, function (index, item) {
                    $("#prod_ass_twentySeven_fileList").append("<div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "?oa_file=" + item.oa_file + "'>" + item.oa_file
                            + "</a></div>");
                });
            });
            $.ajax({
                type: "POST",
                url: "uploadFileSelect",
                data: {
                    "related_id": data.review_file_id
                }
            }).then(function (data) {
                //循环展现附件信息
                $("#review_file_id_twentySeven_fileList div").remove();
                $.each(data, function (index, item) {
                    $("#review_file_id_twentySeven_fileList").append("<div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "?oa_file=" + item.oa_file + "'>" + item.oa_file
                            + "</a></div>");
                });
            });
            //如果附件编码不为空，开始取附件
            if (data.annex != "") {
                $('#post_evaluation_related_id').val(data.annex);
                $.ajax({
                    type: "POST",
                    url: "uploadFileSelect",
                    data: {
                        "related_id": data.annex
                    }
                }).then(function (data) {
                    //循环展现附件信息
                    $("#post_evaluation_twentySeven_fileList div").remove();
                    $.each(data, function (index, item) {
                        $("#post_evaluation_twentySeven_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                + "</a></div>");
                        if (linknum < "30") {
                            $("#post_evaluation_twentySeven_fileList").append("<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div>");
                        }
                        $("#post_evaluation_twentySeven_fileList").append("</div>");
                    });
                });
            }
        });
        $('#postEvaluation').modal('show');
    });
    //提交产品后评估打分结果信息
    $("#submit27").click(function () {
        if(lengthVerify($('#note_twentySeven'))) return; //判断字符内容是否超长
        $.ajax({
            type: "POST",
            url: "demandSituation",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "27",
                "create_date": $('#create_date').val(),//用来判断此条数据是否已存在
                "note": $('#note_twentySeven').val(),
                "annex": $('#post_evaluation_related_id').val()
            }
        }).then(function (data) {
            $("#batch_id").val(data.batch_id);
            $('#postEvaluation').modal('hide');
            $('#operationAlertInfo').modal('show');
        });
    });
    //产品后评估打分结果附件添加和删除
    $("#post_evaluation_twentySeven_xFile").on("change", function (e) {
        //当没附件关联id时取值
        getRelatedId($('#post_evaluation_related_id'));
        //为了支持IE9浏览器，文件上传更新
        $("#post_evaluation_twentySeven_upload-form").ajaxSubmit({ //重点：使用ajaxSubmit()提交表单。
            url: "${pageContext.request.contextPath}/fileUpload",
            type: "post", //提交的类型必需是post，
            data: {related_id: $("#post_evaluation_related_id").val()},
            dateType: "json",
            success: function (data) {
                //如果提交成功执行
                //如果附件编码不为空，开始取附件
                if ($('#post_evaluation_related_id').val() != "") {
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": $('#post_evaluation_related_id').val()
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#post_evaluation_twentySeven_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#post_evaluation_twentySeven_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>"
                                    + "<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div></div>");
                        });
                    });
                }
            },
            error: function (data) {
                alert("error:" + data);
            }
        });
    });
    //产品后评估决策结果29
    $("#linkname_29").click(function () {
        if ($("#current_link").val() <= 28) {
            return;
        }
        if ($("#batch_id").val() != "") {
            $.ajax({
                type: "POST",
                url: "selectProgramReviewInfo",
                data: {
                    "prod_id": getURLParameter("prod_id"),
                    "batch_id": $("#batch_id").val(),
                    "link_id": "29"
                }
            }).then(function (data) {
                $('#create_date').val(data.create_date);
                $('#evaluate_decision_note').val(data.review_opinion);
                //如果附件编码不为空，开始取附件
                if (data.prod_plan != "") {
                    $('#evaluate_decision_related_id').val(data.prod_plan);
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": data.prod_plan
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#evaluate_decision_twentyNine_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#evaluate_decision_twentyNine_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>");
                            if (linknum < "30") {
                                $("#evaluate_decision_twentyNine_fileList").append("<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                        + "<i class=\"fa fa-times\"></i></button></div>");
                            }
                            $("#evaluate_decision_twentyNine_fileList").append("</div>");
                        });
                    });
                }
            });
        }
        $('#evaluateDecision').modal('show');
    });
    //提交产品后评估决策结果信息
    $("#submit29").click(function () {
        $.ajax({
            type: "POST",
            url: "demandSituation",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "29",
                "create_date": $('#create_date').val(),//用来判断此条数据是否已存在
                "review_opinion": $('#evaluate_decision_note').val(),
                "prod_plan": $('#evaluate_decision_related_id').val()
            }
        }).then(function (data) {
            $("#batch_id").val(data.batch_id);
            $('#evaluateDecision').modal('hide');
            $('#operationAlertInfo').modal('show');
        });
    });

    //产品后评估决策结果附件添加和删除
    $("#evaluate_decision_twentyNine_xFile").on("change", function (e) {
        //当没附件关联id时取值
        getRelatedId($('#evaluate_decision_related_id'));
        //为了支持IE9浏览器，文件上传更新
        $("#evaluate_decision_twentyNine_upload-form").ajaxSubmit({ //重点：使用ajaxSubmit()提交表单。
            url: "${pageContext.request.contextPath}/fileUpload",
            type: "post", //提交的类型必需是post，
            data: {related_id: $("#evaluate_decision_related_id").val()},
            dateType: "json",
            success: function (data) {
                //如果提交成功执行
                //如果附件编码不为空，开始取附件
                if ($('#evaluate_decision_related_id').val() != "") {
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": $('#evaluate_decision_related_id').val()
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#evaluate_decision_twentyNine_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#evaluate_decision_twentyNine_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>"
                                    + "<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div></div>");
                        });
                    });
                }
            },
            error: function (data) {
                alert("error:" + data);
            }
        });
    });
    //产品下线30
    $("#linkname_30").click(function () {
        if ($("#current_link").val() <= 29) {
            return;
        }
        if ($("#batch_id").val() != "") {
            $.ajax({
                type: "POST",
                url: "selectProgramReviewInfo",
                data: {
                    "prod_id": getURLParameter("prod_id"),
                    "batch_id": $("#batch_id").val(),
                    "link_id": "30"
                }
            }).then(function (data) {
                $('#create_date').val(data.create_date);
                $('#product_off_note').val(data.review_opinion);
                //如果附件编码不为空，开始取附件
                if (data.offline_document != "") {
                    $('#product_off_related_id').val(data.offline_document);
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": data.offline_document
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#product_off_thirty_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#product_off_thirty_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>");
                            if (linknum < "30") {
                                $("#product_off_thirty_fileList").append("<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                        + "<i class=\"fa fa-times\"></i></button></div>");
                            }
                            $("#product_off_thirty_fileList").append("</div>");
                        });
                    });
                }
            });
        }
        $('#productOff').modal('show');
    });
    //提交产品下线信息
    $("#submit30").click(function () {
        $.ajax({
            type: "POST",
            url: "demandSituation",
            data: {
                "prod_id": getURLParameter("prod_id"),
                "batch_id": $("#batch_id").val(),
                "link_id": "30",
                "create_date": $('#create_date').val(),//用来判断此条数据是否已存在
                "review_opinion": $('#product_off_note').val(),
                "offline_document": $('#product_off_related_id').val()
            }
        }).then(function (data) {
            $("#batch_id").val(data.batch_id);
            $('#productOff').modal('hide');
            $('#operationAlertInfo').modal('show');
        });
    });

    //产品下线附件添加和删除
    $("#product_off_thirty_xFile").on("change", function (e) {
        //当没附件关联id时取值
        getRelatedId($('#product_off_related_id'));
        //为了支持IE9浏览器，文件上传更新
        $("#product_off_thirty_upload-form").ajaxSubmit({ //重点：使用ajaxSubmit()提交表单。
            url: "${pageContext.request.contextPath}/fileUpload",
            type: "post", //提交的类型必需是post，
            data: {related_id: $("#product_off_related_id").val()},
            dateType: "json",
            success: function (data) {
                //如果提交成功执行
                //如果附件编码不为空，开始取附件
                if ($('#product_off_related_id').val() != "") {
                    $.ajax({
                        type: "POST",
                        url: "uploadFileSelect",
                        data: {
                            "related_id": $('#product_off_related_id').val()
                        }
                    }).then(function (data) {
                        //循环展现附件信息
                        $("#product_off_thirty_fileList div").remove();
                        $.each(data, function (index, item) {
                            $("#product_off_thirty_fileList").append("<div><div class=\"col-sm-2\" style='overflow:hidden;white-space:nowrap;'><a href='/esop/fileLoad/" + item.path + "/" + item.name + "'>" + item.name
                                    + "</a></div>"
                                    + "<div class=\"col-sm-1\"><button type=\"button\" class=\"btn btn-info pull-left\" onclick='deleteFile(this," + item.id + ")' title=\"删除\">"
                                    + "<i class=\"fa fa-times\"></i></button></div></div>");
                        });
                    });
                }
            },
            error: function (data) {
                alert("error:" + data);
            }
        });
    });
    //判断填写的文本内容长度
    function lengthVerify(obj) {
        if (GetLength(obj.val()) > 2000) {
            alert("填写的内容超过2000字，无法保存，请已附件形式提交！");
            return true;
        }
    }
    //获取附件编码
    function getRelatedId(obj) {
        if (obj.val() == "") {
            $.ajax({
                type: "POST",
                url: "getUploadFileInfoRelatedID",
                async: false
            }).then(function (data) {
                obj.val(data);
            });
        }
    }
</script>
</body>
</html>
